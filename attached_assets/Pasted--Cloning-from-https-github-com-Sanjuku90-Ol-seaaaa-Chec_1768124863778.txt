==> Cloning from https://github.com/Sanjuku90/Ol-seaaaa
==> Checking out commit 0d3a2f71edec3686c5f3521a7ba998028eaf5898 in branch main
#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 977B done
#1 DONE 0.0s
#2 [auth] docker/dockerfile:pull render-prod/docker-mirror-repository/docker/dockerfile:pull token for us-west1-docker.pkg.dev
#2 DONE 0.0s
#3 resolve image config for docker-image://docker.io/docker/dockerfile:1
#3 DONE 0.6s
#4 docker-image://docker.io/docker/dockerfile:1@sha256:b6afd42430b15f2d2a4c5a02b919e98a525b785b1aaff16747d2f623364e39b6
#4 resolve docker.io/docker/dockerfile:1@sha256:b6afd42430b15f2d2a4c5a02b919e98a525b785b1aaff16747d2f623364e39b6 done
#4 extracting sha256:77246a01651da592b7bae79e0e20ed3b4f2e4c00a1b54b7c921c91ae3fa9ef07 0.1s done
#4 DONE 0.5s
#5 [internal] load metadata for docker.io/library/node:22.21.1-slim
#5 ...
#6 [auth] library/node:pull render-prod/docker-mirror-repository/library/node:pull token for us-west1-docker.pkg.dev
#6 DONE 0.0s
#5 [internal] load metadata for docker.io/library/node:22.21.1-slim
#5 DONE 2.1s
#7 [internal] load .dockerignore
#7 transferring context:
#7 transferring context: 107B done
#7 DONE 0.5s
#8 [base 1/2] FROM docker.io/library/node:22.21.1-slim@sha256:7378f5a4830ef48eb36d1abf4ef398391db562b5c41a0bded83192fbcea21cc8
#8 resolve docker.io/library/node:22.21.1-slim@sha256:7378f5a4830ef48eb36d1abf4ef398391db562b5c41a0bded83192fbcea21cc8 0.0s done
#8 ...
#9 [internal] load build context
#9 transferring context: 1.80MB 0.0s done
#9 DONE 0.1s
#8 [base 1/2] FROM docker.io/library/node:22.21.1-slim@sha256:7378f5a4830ef48eb36d1abf4ef398391db562b5c41a0bded83192fbcea21cc8
#8 sha256:6f05612e2534327b6ccf7d08c3d990010d53053ca493847a803838330169a39c 447B / 447B 0.1s done
#8 sha256:38ca042e42a0636347e2ea9e1685a12bef5c0ed650fe0f50addf5f0bab358631 3.31kB / 3.31kB 0.1s done
#8 sha256:a9a89bdca035813c1a9c1a0a080aa7994068accc07b377eea8c261393c898c06 0B / 1.71MB 0.2s
#8 sha256:0c4f12201926d1e2133283b0f8413d7f5c46e182eed52f7a13b97bf60ae9b27b 0B / 49.48MB 0.2s
#8 sha256:0347dcb76707f7d71a7c0b3a5f4a63b97cdd9923e637e67ad65b3b2d4ba05942 0B / 28.23MB 0.2s
#8 sha256:a9a89bdca035813c1a9c1a0a080aa7994068accc07b377eea8c261393c898c06 1.71MB / 1.71MB 0.3s done
#8 sha256:0347dcb76707f7d71a7c0b3a5f4a63b97cdd9923e637e67ad65b3b2d4ba05942 19.92MB / 28.23MB 0.3s
#8 sha256:0c4f12201926d1e2133283b0f8413d7f5c46e182eed52f7a13b97bf60ae9b27b 27.47MB / 49.48MB 0.6s
#8 sha256:0347dcb76707f7d71a7c0b3a5f4a63b97cdd9923e637e67ad65b3b2d4ba05942 28.23MB / 28.23MB 0.4s done
#8 extracting sha256:0347dcb76707f7d71a7c0b3a5f4a63b97cdd9923e637e67ad65b3b2d4ba05942
#8 sha256:0c4f12201926d1e2133283b0f8413d7f5c46e182eed52f7a13b97bf60ae9b27b 49.48MB / 49.48MB 0.8s
#8 sha256:0c4f12201926d1e2133283b0f8413d7f5c46e182eed52f7a13b97bf60ae9b27b 49.48MB / 49.48MB 0.8s done
#8 extracting sha256:0347dcb76707f7d71a7c0b3a5f4a63b97cdd9923e637e67ad65b3b2d4ba05942 1.4s done
#8 DONE 2.1s
#8 [base 1/2] FROM docker.io/library/node:22.21.1-slim@sha256:7378f5a4830ef48eb36d1abf4ef398391db562b5c41a0bded83192fbcea21cc8
#8 extracting sha256:38ca042e42a0636347e2ea9e1685a12bef5c0ed650fe0f50addf5f0bab358631
#8 extracting sha256:38ca042e42a0636347e2ea9e1685a12bef5c0ed650fe0f50addf5f0bab358631 7.8s done
#8 DONE 9.9s
#8 [base 1/2] FROM docker.io/library/node:22.21.1-slim@sha256:7378f5a4830ef48eb36d1abf4ef398391db562b5c41a0bded83192fbcea21cc8
#8 extracting sha256:0c4f12201926d1e2133283b0f8413d7f5c46e182eed52f7a13b97bf60ae9b27b
#8 extracting sha256:0c4f12201926d1e2133283b0f8413d7f5c46e182eed52f7a13b97bf60ae9b27b 2.6s done
#8 DONE 12.4s
#8 [base 1/2] FROM docker.io/library/node:22.21.1-slim@sha256:7378f5a4830ef48eb36d1abf4ef398391db562b5c41a0bded83192fbcea21cc8
#8 extracting sha256:a9a89bdca035813c1a9c1a0a080aa7994068accc07b377eea8c261393c898c06
#8 extracting sha256:a9a89bdca035813c1a9c1a0a080aa7994068accc07b377eea8c261393c898c06 0.2s done
#8 DONE 12.6s
#8 [base 1/2] FROM docker.io/library/node:22.21.1-slim@sha256:7378f5a4830ef48eb36d1abf4ef398391db562b5c41a0bded83192fbcea21cc8
#8 extracting sha256:6f05612e2534327b6ccf7d08c3d990010d53053ca493847a803838330169a39c 0.0s done
#8 DONE 12.6s
#10 [base 2/2] WORKDIR /app
#10 DONE 0.0s
#11 [build 1/6] RUN apt-get update -qq &&     apt-get install --no-install-recommends -y build-essential node-gyp pkg-config python-is-python3
#11 1.602 Reading package lists...
#11 2.076 Building dependency tree...
#11 2.221 Reading state information...
#11 2.364 The following additional packages will be installed:
#11 2.364   binutils binutils-common binutils-x86-64-linux-gnu bzip2 cpp cpp-12 dpkg-dev
#11 2.364   g++ g++-12 gcc gcc-12 gyp libasan8 libatomic1 libbinutils libbrotli1
#11 2.364   libc-ares2 libc-dev-bin libc6-dev libcc1-0 libcrypt-dev libctf-nobfd0
#11 2.364   libctf0 libdpkg-perl libexpat1 libgcc-12-dev libgdbm-compat4 libgdbm6
#11 2.364   libgomp1 libgprofng0 libgssapi-krb5-2 libicu72 libisl23 libitm1 libjansson4
#11 2.364   libjs-events libjs-inherits libk5crypto3 libkeyutils1 libkrb5-3
#11 2.364   libkrb5support0 liblsan0 libmpc3 libmpfr6 libncursesw6 libnghttp2-14
#11 2.365   libnode-dev libnode108 libnsl-dev libnsl2 libperl5.36 libpkgconf3
#11 2.365   libpython3-stdlib libpython3.11-minimal libpython3.11-stdlib libquadmath0
#11 2.365   libreadline8 libsqlite3-0 libssl-dev libssl3 libstdc++-12-dev
#11 2.365   libtirpc-common libtirpc-dev libtirpc3 libtsan2 libubsan1 libuv1 libuv1-dev
#11 2.365   linux-libc-dev make media-types node-abbrev node-acorn node-agent-base
#11 2.365   node-ansi-regex node-ansi-styles node-aproba node-are-we-there-yet
#11 2.365   node-balanced-match node-brace-expansion node-busboy node-chownr
#11 2.365   node-cjs-module-lexer node-clone node-color-convert node-color-name
#11 2.365   node-console-control-strings node-core-util-is node-data-uri-to-buffer
#11 2.365   node-debug node-defaults node-delegates node-encoding node-events
#11 2.365   node-fancy-log node-fetch node-fs.realpath node-gauge node-glob
#11 2.365   node-graceful-fs node-has-unicode node-https-proxy-agent node-iconv-lite
#11 2.365   node-inflight node-inherits node-isarray node-isexe node-jsonparse
#11 2.365   node-lru-cache node-minimatch node-minipass node-mkdirp node-ms node-nopt
#11 2.365   node-npmlog node-once node-osenv node-process-nextick-args
#11 2.365   node-readable-stream node-rimraf node-safe-buffer node-semver
#11 2.365   node-set-blocking node-signal-exit node-slice-ansi node-string-decoder
#11 2.365   node-string-width node-strip-ansi node-tar node-time-stamp node-undici
#11 2.365   node-util-deprecate node-wcwidth.js node-which node-wide-align node-wrappy
#11 2.365   node-xtend node-yallist nodejs patch perl perl-modules-5.36 pkgconf
#11 2.365   pkgconf-bin python3 python3-minimal python3-pkg-resources python3-six
#11 2.365   python3.11 python3.11-minimal readline-common rpcsvc-proto xz-utils
#11 2.366 Suggested packages:
#11 2.366   binutils-doc bzip2-doc cpp-doc gcc-12-locales cpp-12-doc debian-keyring
#11 2.366   g++-multilib g++-12-multilib gcc-12-doc gcc-multilib manpages-dev autoconf
#11 2.366   automake libtool flex bison gdb gcc-doc gcc-12-multilib glibc-doc gnupg | sq
#11 2.366   | sqop | pgpainless-cli sensible-utils git bzr gdbm-l10n krb5-doc krb5-user
#11 2.366   libssl-doc libstdc++-12-doc make-doc npm ed diffutils-doc perl-doc
#11 2.366   libterm-readline-gnu-perl | libterm-readline-perl-perl
#11 2.366   libtap-harness-archive-perl python3-doc python3-tk python3-venv
#11 2.366   python3-setuptools python3.11-venv python3.11-doc binfmt-support
#11 2.366   readline-doc
#11 2.366 Recommended packages:
#11 2.366   fakeroot gnupg | sq | sqop | pgpainless-cli libalgorithm-merge-perl manpages
#11 2.366   manpages-dev libc-devtools libfile-fcntllock-perl liblocale-gettext-perl
#11 2.366   javascript-common krb5-locales libgpm2 ca-certificates nodejs-doc netbase
#11 3.037 The following NEW packages will be installed:
#11 3.037   binutils binutils-common binutils-x86-64-linux-gnu build-essential bzip2 cpp
#11 3.037   cpp-12 dpkg-dev g++ g++-12 gcc gcc-12 gyp libasan8 libatomic1 libbinutils
#11 3.037   libbrotli1 libc-ares2 libc-dev-bin libc6-dev libcc1-0 libcrypt-dev
#11 3.037   libctf-nobfd0 libctf0 libdpkg-perl libexpat1 libgcc-12-dev libgdbm-compat4
#11 3.037   libgdbm6 libgomp1 libgprofng0 libgssapi-krb5-2 libicu72 libisl23 libitm1
#11 3.037   libjansson4 libjs-events libjs-inherits libk5crypto3 libkeyutils1 libkrb5-3
#11 3.037   libkrb5support0 liblsan0 libmpc3 libmpfr6 libncursesw6 libnghttp2-14
#11 3.037   libnode-dev libnode108 libnsl-dev libnsl2 libperl5.36 libpkgconf3
#11 3.037   libpython3-stdlib libpython3.11-minimal libpython3.11-stdlib libquadmath0
#11 3.038   libreadline8 libsqlite3-0 libssl-dev libssl3 libstdc++-12-dev
#11 3.038   libtirpc-common libtirpc-dev libtirpc3 libtsan2 libubsan1 libuv1 libuv1-dev
#11 3.038   linux-libc-dev make media-types node-abbrev node-acorn node-agent-base
#11 3.038   node-ansi-regex node-ansi-styles node-aproba node-are-we-there-yet
#11 3.038   node-balanced-match node-brace-expansion node-busboy node-chownr
#11 3.038   node-cjs-module-lexer node-clone node-color-convert node-color-name
#11 3.038   node-console-control-strings node-core-util-is node-data-uri-to-buffer
#11 3.038   node-debug node-defaults node-delegates node-encoding node-events
#11 3.038   node-fancy-log node-fetch node-fs.realpath node-gauge node-glob
#11 3.038   node-graceful-fs node-gyp node-has-unicode node-https-proxy-agent
#11 3.038   node-iconv-lite node-inflight node-inherits node-isarray node-isexe
#11 3.038   node-jsonparse node-lru-cache node-minimatch node-minipass node-mkdirp
#11 3.038   node-ms node-nopt node-npmlog node-once node-osenv node-process-nextick-args
#11 3.038   node-readable-stream node-rimraf node-safe-buffer node-semver
#11 3.038   node-set-blocking node-signal-exit node-slice-ansi node-string-decoder
#11 3.038   node-string-width node-strip-ansi node-tar node-time-stamp node-undici
#11 3.038   node-util-deprecate node-wcwidth.js node-which node-wide-align node-wrappy
#11 3.038   node-xtend node-yallist nodejs patch perl perl-modules-5.36 pkg-config
#11 3.038   pkgconf pkgconf-bin python-is-python3 python3 python3-minimal
#11 3.038   python3-pkg-resources python3-six python3.11 python3.11-minimal
#11 3.038   readline-common rpcsvc-proto xz-utils
#11 3.077 0 upgraded, 157 newly installed, 0 to remove and 10 not upgraded.
#11 3.077 Need to get 109 MB of archives.
#11 3.077 After this operation, 472 MB of additional disk space will be used.
#11 3.077 Get:1 http://deb.debian.org/debian bookworm/main amd64 perl-modules-5.36 all 5.36.0-7+deb12u3 [2815 kB]
#11 3.132 Get:2 http://deb.debian.org/debian bookworm/main amd64 libgdbm6 amd64 1.23-3 [72.2 kB]
#11 3.132 Get:3 http://deb.debian.org/debian bookworm/main amd64 libgdbm-compat4 amd64 1.23-3 [48.2 kB]
#11 3.133 Get:4 http://deb.debian.org/debian bookworm/main amd64 libperl5.36 amd64 5.36.0-7+deb12u3 [4196 kB]
#11 3.156 Get:5 http://deb.debian.org/debian bookworm/main amd64 perl amd64 5.36.0-7+deb12u3 [239 kB]
#11 3.157 Get:6 http://deb.debian.org/debian bookworm/main amd64 libssl3 amd64 3.0.18-1~deb12u1 [2029 kB]
#11 3.166 Get:7 http://deb.debian.org/debian bookworm/main amd64 libpython3.11-minimal amd64 3.11.2-6+deb12u6 [817 kB]
#11 3.169 Get:8 http://deb.debian.org/debian bookworm/main amd64 libexpat1 amd64 2.5.0-1+deb12u2 [99.9 kB]
#11 3.169 Get:9 http://deb.debian.org/debian bookworm/main amd64 python3.11-minimal amd64 3.11.2-6+deb12u6 [2064 kB]
#11 3.176 Get:10 http://deb.debian.org/debian bookworm/main amd64 python3-minimal amd64 3.11.2-1+b1 [26.3 kB]
#11 3.176 Get:11 http://deb.debian.org/debian bookworm/main amd64 media-types all 10.0.0 [26.1 kB]
#11 3.177 Get:12 http://deb.debian.org/debian bookworm/main amd64 libncursesw6 amd64 6.4-4 [134 kB]
#11 3.177 Get:13 http://deb.debian.org/debian bookworm/main amd64 libkrb5support0 amd64 1.20.1-2+deb12u4 [33.2 kB]
#11 3.178 Get:14 http://deb.debian.org/debian bookworm/main amd64 libk5crypto3 amd64 1.20.1-2+deb12u4 [79.8 kB]
#11 3.178 Get:15 http://deb.debian.org/debian bookworm/main amd64 libkeyutils1 amd64 1.6.3-2 [8808 B]
#11 3.180 Get:16 http://deb.debian.org/debian bookworm/main amd64 libkrb5-3 amd64 1.20.1-2+deb12u4 [334 kB]
#11 3.182 Get:17 http://deb.debian.org/debian bookworm/main amd64 libgssapi-krb5-2 amd64 1.20.1-2+deb12u4 [135 kB]
#11 3.182 Get:18 http://deb.debian.org/debian bookworm/main amd64 libtirpc-common all 1.3.3+ds-1 [14.0 kB]
#11 3.187 Get:19 http://deb.debian.org/debian bookworm/main amd64 libtirpc3 amd64 1.3.3+ds-1 [85.2 kB]
#11 3.188 Get:20 http://deb.debian.org/debian bookworm/main amd64 libnsl2 amd64 1.3.0-2 [39.5 kB]
#11 3.188 Get:21 http://deb.debian.org/debian bookworm/main amd64 readline-common all 8.2-1.3 [69.0 kB]
#11 3.189 Get:22 http://deb.debian.org/debian bookworm/main amd64 libreadline8 amd64 8.2-1.3 [166 kB]
#11 3.190 Get:23 http://deb.debian.org/debian bookworm/main amd64 libsqlite3-0 amd64 3.40.1-2+deb12u2 [839 kB]
#11 3.193 Get:24 http://deb.debian.org/debian bookworm/main amd64 libpython3.11-stdlib amd64 3.11.2-6+deb12u6 [1798 kB]
#11 3.199 Get:25 http://deb.debian.org/debian bookworm/main amd64 python3.11 amd64 3.11.2-6+deb12u6 [573 kB]
#11 3.201 Get:26 http://deb.debian.org/debian bookworm/main amd64 libpython3-stdlib amd64 3.11.2-1+b1 [9312 B]
#11 3.202 Get:27 http://deb.debian.org/debian bookworm/main amd64 python3 amd64 3.11.2-1+b1 [26.3 kB]
#11 3.202 Get:28 http://deb.debian.org/debian bookworm/main amd64 bzip2 amd64 1.0.8-5+b1 [49.8 kB]
#11 3.202 Get:29 http://deb.debian.org/debian bookworm/main amd64 xz-utils amd64 5.4.1-1 [471 kB]
#11 3.204 Get:30 http://deb.debian.org/debian bookworm/main amd64 binutils-common amd64 2.40-2 [2487 kB]
#11 3.214 Get:31 http://deb.debian.org/debian bookworm/main amd64 libbinutils amd64 2.40-2 [572 kB]
#11 3.216 Get:32 http://deb.debian.org/debian bookworm/main amd64 libctf-nobfd0 amd64 2.40-2 [153 kB]
#11 3.217 Get:33 http://deb.debian.org/debian bookworm/main amd64 libctf0 amd64 2.40-2 [89.8 kB]
#11 3.217 Get:34 http://deb.debian.org/debian bookworm/main amd64 libgprofng0 amd64 2.40-2 [812 kB]
#11 3.220 Get:35 http://deb.debian.org/debian bookworm/main amd64 libjansson4 amd64 2.14-2 [40.8 kB]
#11 3.221 Get:36 http://deb.debian.org/debian bookworm/main amd64 binutils-x86-64-linux-gnu amd64 2.40-2 [2246 kB]
#11 3.229 Get:37 http://deb.debian.org/debian bookworm/main amd64 binutils amd64 2.40-2 [65.0 kB]
#11 3.229 Get:38 http://deb.debian.org/debian bookworm/main amd64 libc-dev-bin amd64 2.36-9+deb12u13 [47.4 kB]
#11 3.230 Get:39 http://deb.debian.org/debian bookworm/main amd64 linux-libc-dev amd64 6.1.159-1 [2215 kB]
#11 3.238 Get:40 http://deb.debian.org/debian bookworm/main amd64 libcrypt-dev amd64 1:4.4.33-2 [118 kB]
#11 3.239 Get:41 http://deb.debian.org/debian bookworm/main amd64 libtirpc-dev amd64 1.3.3+ds-1 [191 kB]
#11 3.239 Get:42 http://deb.debian.org/debian bookworm/main amd64 libnsl-dev amd64 1.3.0-2 [66.4 kB]
#11 3.240 Get:43 http://deb.debian.org/debian bookworm/main amd64 rpcsvc-proto amd64 1.4.3-1 [63.3 kB]
#11 3.240 Get:44 http://deb.debian.org/debian bookworm/main amd64 libc6-dev amd64 2.36-9+deb12u13 [1904 kB]
#11 3.253 Get:45 http://deb.debian.org/debian bookworm/main amd64 libisl23 amd64 0.25-1.1 [683 kB]
#11 3.255 Get:46 http://deb.debian.org/debian bookworm/main amd64 libmpfr6 amd64 4.2.0-1 [701 kB]
#11 3.258 Get:47 http://deb.debian.org/debian bookworm/main amd64 libmpc3 amd64 1.3.1-1 [51.5 kB]
#11 3.258 Get:48 http://deb.debian.org/debian bookworm/main amd64 cpp-12 amd64 12.2.0-14+deb12u1 [9768 kB]
#11 3.299 Get:49 http://deb.debian.org/debian bookworm/main amd64 cpp amd64 4:12.2.0-3 [6836 B]
#11 3.299 Get:50 http://deb.debian.org/debian bookworm/main amd64 libcc1-0 amd64 12.2.0-14+deb12u1 [41.7 kB]
#11 3.299 Get:51 http://deb.debian.org/debian bookworm/main amd64 libgomp1 amd64 12.2.0-14+deb12u1 [116 kB]
#11 3.300 Get:52 http://deb.debian.org/debian bookworm/main amd64 libitm1 amd64 12.2.0-14+deb12u1 [26.1 kB]
#11 3.300 Get:53 http://deb.debian.org/debian bookworm/main amd64 libatomic1 amd64 12.2.0-14+deb12u1 [9376 B]
#11 3.301 Get:54 http://deb.debian.org/debian bookworm/main amd64 libasan8 amd64 12.2.0-14+deb12u1 [2193 kB]
#11 3.308 Get:55 http://deb.debian.org/debian bookworm/main amd64 liblsan0 amd64 12.2.0-14+deb12u1 [969 kB]
#11 3.312 Get:56 http://deb.debian.org/debian bookworm/main amd64 libtsan2 amd64 12.2.0-14+deb12u1 [2197 kB]
#11 3.320 Get:57 http://deb.debian.org/debian bookworm/main amd64 libubsan1 amd64 12.2.0-14+deb12u1 [883 kB]
#11 3.323 Get:58 http://deb.debian.org/debian bookworm/main amd64 libquadmath0 amd64 12.2.0-14+deb12u1 [145 kB]
#11 3.324 Get:59 http://deb.debian.org/debian bookworm/main amd64 libgcc-12-dev amd64 12.2.0-14+deb12u1 [2437 kB]
#11 3.333 Get:60 http://deb.debian.org/debian bookworm/main amd64 gcc-12 amd64 12.2.0-14+deb12u1 [19.3 MB]
#11 3.414 Get:61 http://deb.debian.org/debian bookworm/main amd64 gcc amd64 4:12.2.0-3 [5216 B]
#11 3.414 Get:62 http://deb.debian.org/debian bookworm/main amd64 libstdc++-12-dev amd64 12.2.0-14+deb12u1 [2047 kB]
#11 3.421 Get:63 http://deb.debian.org/debian bookworm/main amd64 g++-12 amd64 12.2.0-14+deb12u1 [10.7 MB]
#11 3.472 Get:64 http://deb.debian.org/debian bookworm/main amd64 g++ amd64 4:12.2.0-3 [1356 B]
#11 3.472 Get:65 http://deb.debian.org/debian bookworm/main amd64 make amd64 4.3-4.1 [396 kB]
#11 3.474 Get:66 http://deb.debian.org/debian bookworm/main amd64 libdpkg-perl all 1.21.22 [603 kB]
#11 3.478 Get:67 http://deb.debian.org/debian bookworm/main amd64 patch amd64 2.7.6-7 [128 kB]
#11 3.479 Get:68 http://deb.debian.org/debian bookworm/main amd64 dpkg-dev all 1.21.22 [1353 kB]
#11 3.484 Get:69 http://deb.debian.org/debian bookworm/main amd64 build-essential amd64 12.9 [7704 B]
#11 3.484 Get:70 http://deb.debian.org/debian bookworm/main amd64 python3-pkg-resources all 66.1.1-1+deb12u2 [297 kB]
#11 3.485 Get:71 http://deb.debian.org/debian bookworm/main amd64 python3-six all 1.16.0-4 [17.5 kB]
#11 3.485 Get:72 http://deb.debian.org/debian bookworm/main amd64 gyp all 0.1+20220404git9ecf45e-2 [237 kB]
#11 3.487 Get:73 http://deb.debian.org/debian bookworm/main amd64 libbrotli1 amd64 1.0.9-2+b6 [275 kB]
#11 3.488 Get:74 http://deb.debian.org/debian bookworm/main amd64 libc-ares2 amd64 1.18.1-3 [102 kB]
#11 3.489 Get:75 http://deb.debian.org/debian bookworm/main amd64 libicu72 amd64 72.1-3+deb12u1 [9376 kB]
#11 3.526 Get:76 http://deb.debian.org/debian bookworm/main amd64 libjs-events all 3.3.0+~3.0.0-3 [11.3 kB]
#11 3.526 Get:77 http://deb.debian.org/debian bookworm/main amd64 libjs-inherits all 2.0.4-6 [3548 B]
#11 3.526 Get:78 http://deb.debian.org/debian bookworm/main amd64 libnghttp2-14 amd64 1.52.0-1+deb12u2 [73.0 kB]
#11 3.527 Get:79 http://deb.debian.org/debian bookworm/main amd64 libssl-dev amd64 3.0.18-1~deb12u1 [2443 kB]
#11 3.544 Get:80 http://deb.debian.org/debian bookworm/main amd64 libuv1 amd64 1.44.2-1+deb12u1 [136 kB]
#11 3.544 Get:81 http://deb.debian.org/debian bookworm/main amd64 libuv1-dev amd64 1.44.2-1+deb12u1 [172 kB]
#11 3.545 Get:82 http://deb.debian.org/debian bookworm/main amd64 node-xtend all 4.0.2-3 [3932 B]
#11 3.546 Get:83 http://deb.debian.org/debian bookworm/main amd64 nodejs amd64 18.20.4+dfsg-1~deb12u1 [319 kB]
#11 3.547 Get:84 http://deb.debian.org/debian bookworm/main amd64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#11 3.548 Get:85 http://deb.debian.org/debian bookworm/main amd64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#11 3.548 Get:86 http://deb.debian.org/debian bookworm/main amd64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#11 3.548 Get:87 http://deb.debian.org/debian bookworm/main amd64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#11 3.549 Get:88 http://deb.debian.org/debian bookworm/main amd64 libnode108 amd64 18.20.4+dfsg-1~deb12u1 [10.6 MB]
#11 3.597 Get:89 http://deb.debian.org/debian bookworm/main amd64 libnode-dev amd64 18.20.4+dfsg-1~deb12u1 [511 kB]
#11 3.599 Get:90 http://deb.debian.org/debian bookworm/main amd64 libpkgconf3 amd64 1.8.1-1 [36.1 kB]
#11 3.599 Get:91 http://deb.debian.org/debian bookworm/main amd64 node-abbrev all 1.1.1+~1.1.2-1 [5692 B]
#11 3.599 Get:92 http://deb.debian.org/debian bookworm/main amd64 node-ms all 2.1.3+~cs0.7.31-3 [5648 B]
#11 3.600 Get:93 http://deb.debian.org/debian bookworm/main amd64 node-debug all 4.3.4+~cs4.1.7-1 [18.1 kB]
#11 3.600 Get:94 http://deb.debian.org/debian bookworm/main amd64 node-yallist all 4.0.0+~4.0.1-1 [8172 B]
#11 3.600 Get:95 http://deb.debian.org/debian bookworm/main amd64 node-lru-cache all 7.14.1-1 [26.3 kB]
#11 3.605 Get:96 http://deb.debian.org/debian bookworm/main amd64 node-semver all 7.3.5+~7.3.9-2 [42.1 kB]
#11 3.605 Get:97 http://deb.debian.org/debian bookworm/main amd64 node-agent-base all 6.0.2+~cs5.4.2-2 [17.3 kB]
#11 3.610 Get:98 http://deb.debian.org/debian bookworm/main amd64 node-ansi-regex all 5.0.1-1 [4912 B]
#11 3.612 Get:99 http://deb.debian.org/debian bookworm/main amd64 node-color-name all 1.1.4+~1.1.1-2 [5920 B]
#11 3.613 Get:100 http://deb.debian.org/debian bookworm/main amd64 node-color-convert all 2.0.1+~cs2.0.0-2 [13.1 kB]
#11 3.613 Get:101 http://deb.debian.org/debian bookworm/main amd64 node-ansi-styles all 6.2.1-2 [8640 B]
#11 3.613 Get:102 http://deb.debian.org/debian bookworm/main amd64 node-aproba all 2.0.0-3 [5844 B]
#11 3.614 Get:103 http://deb.debian.org/debian bookworm/main amd64 node-delegates all 1.0.0-3 [4528 B]
#11 3.615 Get:104 http://deb.debian.org/debian bookworm/main amd64 node-inherits all 2.0.4-6 [4548 B]
#11 3.619 Get:105 http://deb.debian.org/debian bookworm/main amd64 node-core-util-is all 1.0.3-1 [4072 B]
#11 3.621 Get:106 http://deb.debian.org/debian bookworm/main amd64 node-safe-buffer all 5.2.1+~cs2.1.2-3 [15.5 kB]
#11 3.625 Get:107 http://deb.debian.org/debian bookworm/main amd64 node-string-decoder all 1.3.0-6 [7180 B]
#11 3.626 Get:108 http://deb.debian.org/debian bookworm/main amd64 node-process-nextick-args all 2.0.1-3 [3816 B]
#11 3.631 Get:109 http://deb.debian.org/debian bookworm/main amd64 node-util-deprecate all 1.0.2-3 [4436 B]
#11 3.631 Get:110 http://deb.debian.org/debian bookworm/main amd64 node-isarray all 2.0.5-4 [4040 B]
#11 3.633 Get:111 http://deb.debian.org/debian bookworm/main amd64 node-readable-stream all 3.6.0+~cs3.0.0-4 [32.0 kB]
#11 3.633 Get:112 http://deb.debian.org/debian bookworm/main amd64 node-are-we-there-yet all 3.0.1+~1.1.0-1 [10.0 kB]
#11 3.634 Get:113 http://deb.debian.org/debian bookworm/main amd64 node-balanced-match all 2.0.0-1 [4872 B]
#11 3.635 Get:114 http://deb.debian.org/debian bookworm/main amd64 node-brace-expansion all 2.0.1-2 [7320 B]
#11 3.636 Get:115 http://deb.debian.org/debian bookworm/main amd64 node-chownr all 2.0.0-2 [4424 B]
#11 3.639 Get:116 http://deb.debian.org/debian bookworm/main amd64 node-clone all 2.1.2-4 [8280 B]
#11 3.640 Get:117 http://deb.debian.org/debian bookworm/main amd64 node-console-control-strings all 1.1.0-3 [5564 B]
#11 3.640 Get:118 http://deb.debian.org/debian bookworm/main amd64 node-data-uri-to-buffer all 4.0.0-3 [5540 B]
#11 3.645 Get:119 http://deb.debian.org/debian bookworm/main amd64 node-defaults all 1.0.4+~1.0.3-1 [4400 B]
#11 3.654 Get:120 http://deb.debian.org/debian bookworm/main amd64 node-iconv-lite all 0.6.3-3 [115 kB]
#11 3.655 Get:121 http://deb.debian.org/debian bookworm/main amd64 node-encoding all 0.1.13-2 [4400 B]
#11 3.656 Get:122 http://deb.debian.org/debian bookworm/main amd64 node-events all 3.3.0+~3.0.0-3 [5888 B]
#11 3.656 Get:123 http://deb.debian.org/debian bookworm/main amd64 node-time-stamp all 2.2.0-2 [6016 B]
#11 3.656 Get:124 http://deb.debian.org/debian bookworm/main amd64 node-fancy-log all 1.3.3+~cs1.3.1-2 [7940 B]
#11 3.656 Get:125 http://deb.debian.org/debian bookworm/main amd64 node-fetch all 3.3.0+~cs11.4.11-2 [212 kB]
#11 3.659 Get:126 http://deb.debian.org/debian bookworm/main amd64 node-fs.realpath all 1.0.0-3 [6172 B]
#11 3.660 Get:127 http://deb.debian.org/debian bookworm/main amd64 node-has-unicode all 2.0.1-5 [3992 B]
#11 3.661 Get:128 http://deb.debian.org/debian bookworm/main amd64 node-signal-exit all 3.0.7+~3.0.1-1 [7600 B]
#11 3.662 Get:129 http://deb.debian.org/debian bookworm/main amd64 node-slice-ansi all 5.0.0+~cs9.0.0-5 [8788 B]
#11 3.664 Get:130 http://deb.debian.org/debian bookworm/main amd64 node-strip-ansi all 6.0.1-2 [4120 B]
#11 3.671 Get:131 http://deb.debian.org/debian bookworm/main amd64 node-wcwidth.js all 1.0.2-2 [7088 B]
#11 3.672 Get:132 http://deb.debian.org/debian bookworm/main amd64 node-string-width all 4.2.3+~cs13.2.3-1 [10.7 kB]
#11 3.672 Get:133 http://deb.debian.org/debian bookworm/main amd64 node-wide-align all 1.1.3-4 [4244 B]
#11 3.677 Get:134 http://deb.debian.org/debian bookworm/main amd64 node-gauge all 4.0.4-1 [19.6 kB]
#11 3.678 Get:135 http://deb.debian.org/debian bookworm/main amd64 node-wrappy all 1.0.2-3 [3776 B]
#11 3.679 Get:136 http://deb.debian.org/debian bookworm/main amd64 node-once all 1.4.0-7 [4492 B]
#11 3.680 Get:137 http://deb.debian.org/debian bookworm/main amd64 node-inflight all 1.0.6-2 [3952 B]
#11 3.682 Get:138 http://deb.debian.org/debian bookworm/main amd64 node-minimatch all 5.1.1+~5.1.2-1 [18.6 kB]
#11 3.690 Get:139 http://deb.debian.org/debian bookworm/main amd64 node-glob all 8.0.3+~cs8.4.15-1 [133 kB]
#11 3.691 Get:140 http://deb.debian.org/debian bookworm/main amd64 node-graceful-fs all 4.2.10-1 [14.4 kB]
#11 3.692 Get:141 http://deb.debian.org/debian bookworm/main amd64 node-https-proxy-agent all 5.0.1+~cs8.0.0-3 [16.1 kB]
#11 3.693 Get:142 http://deb.debian.org/debian bookworm/main amd64 node-mkdirp all 1.0.4+~1.0.2-4 [11.6 kB]
#11 3.694 Get:143 http://deb.debian.org/debian bookworm/main amd64 node-nopt all 5.0.0-4 [12.1 kB]
#11 3.695 Get:144 http://deb.debian.org/debian bookworm/main amd64 node-set-blocking all 2.0.0-2 [4248 B]
#11 3.695 Get:145 http://deb.debian.org/debian bookworm/main amd64 node-npmlog all 7.0.1+~4.1.4-1 [11.4 kB]
#11 3.697 Get:146 http://deb.debian.org/debian bookworm/main amd64 node-osenv all 0.1.5+~0.1.1-1 [5884 B]
#11 3.697 Get:147 http://deb.debian.org/debian bookworm/main amd64 node-rimraf all 3.0.2-2 [11.1 kB]
#11 3.697 Get:148 http://deb.debian.org/debian bookworm/main amd64 node-jsonparse all 1.3.1-10 [8020 B]
#11 3.699 Get:149 http://deb.debian.org/debian bookworm/main amd64 node-minipass all 3.3.6+~cs9.4.19-1+deb12u1 [43.1 kB]
#11 3.707 Get:150 http://deb.debian.org/debian bookworm/main amd64 node-tar all 6.1.13+~cs7.0.5-1 [51.1 kB]
#11 3.708 Get:151 http://deb.debian.org/debian bookworm/main amd64 node-isexe all 2.0.0+~2.0.1-5 [6084 B]
#11 3.710 Get:152 http://deb.debian.org/debian bookworm/main amd64 node-which all 2.0.2+~cs1.3.2-3 [8368 B]
#11 3.711 Get:153 http://deb.debian.org/debian bookworm/main amd64 node-gyp all 9.3.0-2 [57.9 kB]
#11 3.712 Get:154 http://deb.debian.org/debian bookworm/main amd64 pkgconf-bin amd64 1.8.1-1 [29.5 kB]
#11 3.720 Get:155 http://deb.debian.org/debian bookworm/main amd64 pkgconf amd64 1.8.1-1 [25.9 kB]
#11 3.721 Get:156 http://deb.debian.org/debian bookworm/main amd64 pkg-config amd64 1.8.1-1 [13.7 kB]
#11 3.721 Get:157 http://deb.debian.org/debian bookworm/main amd64 python-is-python3 all 3.11.2-1+deb12u1 [3216 B]
#11 3.854 debconf: delaying package configuration, since apt-utils is not installed
#11 3.885 Fetched 109 MB in 1s (163 MB/s)
#11 3.907 Selecting previously unselected package perl-modules-5.36.
#11 3.907 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 6095 files and directories currently installed.)
#11 3.912 Preparing to unpack .../0-perl-modules-5.36_5.36.0-7+deb12u3_all.deb ...
#11 3.915 Unpacking perl-modules-5.36 (5.36.0-7+deb12u3) ...
#11 4.227 Selecting previously unselected package libgdbm6:amd64.
#11 4.228 Preparing to unpack .../1-libgdbm6_1.23-3_amd64.deb ...
#11 4.235 Unpacking libgdbm6:amd64 (1.23-3) ...
#11 4.268 Selecting previously unselected package libgdbm-compat4:amd64.
#11 4.269 Preparing to unpack .../2-libgdbm-compat4_1.23-3_amd64.deb ...
#11 4.272 Unpacking libgdbm-compat4:amd64 (1.23-3) ...
#11 4.304 Selecting previously unselected package libperl5.36:amd64.
#11 4.306 Preparing to unpack .../3-libperl5.36_5.36.0-7+deb12u3_amd64.deb ...
#11 4.309 Unpacking libperl5.36:amd64 (5.36.0-7+deb12u3) ...
#11 4.612 Selecting previously unselected package perl.
#11 4.614 Preparing to unpack .../4-perl_5.36.0-7+deb12u3_amd64.deb ...
#11 4.622 Unpacking perl (5.36.0-7+deb12u3) ...
#11 4.671 Selecting previously unselected package libssl3:amd64.
#11 4.673 Preparing to unpack .../5-libssl3_3.0.18-1~deb12u1_amd64.deb ...
#11 4.676 Unpacking libssl3:amd64 (3.0.18-1~deb12u1) ...
#11 4.894 Selecting previously unselected package libpython3.11-minimal:amd64.
#11 4.895 Preparing to unpack .../6-libpython3.11-minimal_3.11.2-6+deb12u6_amd64.deb ...
#11 4.907 Unpacking libpython3.11-minimal:amd64 (3.11.2-6+deb12u6) ...
#11 5.730 Selecting previously unselected package libexpat1:amd64.
#11 5.731 Preparing to unpack .../7-libexpat1_2.5.0-1+deb12u2_amd64.deb ...
#11 5.735 Unpacking libexpat1:amd64 (2.5.0-1+deb12u2) ...
#11 5.774 Selecting previously unselected package python3.11-minimal.
#11 5.776 Preparing to unpack .../8-python3.11-minimal_3.11.2-6+deb12u6_amd64.deb ...
#11 5.782 Unpacking python3.11-minimal (3.11.2-6+deb12u6) ...
#11 5.928 Setting up libssl3:amd64 (3.0.18-1~deb12u1) ...
#11 5.936 Setting up libpython3.11-minimal:amd64 (3.11.2-6+deb12u6) ...
#11 5.948 Setting up libexpat1:amd64 (2.5.0-1+deb12u2) ...
#11 5.955 Setting up python3.11-minimal (3.11.2-6+deb12u6) ...
#11 6.528 Selecting previously unselected package python3-minimal.
#11 6.528 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 8427 files and directories currently installed.)
#11 6.536 Preparing to unpack .../00-python3-minimal_3.11.2-1+b1_amd64.deb ...
#11 6.539 Unpacking python3-minimal (3.11.2-1+b1) ...
#11 6.568 Selecting previously unselected package media-types.
#11 6.569 Preparing to unpack .../01-media-types_10.0.0_all.deb ...
#11 6.572 Unpacking media-types (10.0.0) ...
#11 6.606 Selecting previously unselected package libncursesw6:amd64.
#11 6.608 Preparing to unpack .../02-libncursesw6_6.4-4_amd64.deb ...
#11 6.611 Unpacking libncursesw6:amd64 (6.4-4) ...
#11 6.646 Selecting previously unselected package libkrb5support0:amd64.
#11 6.647 Preparing to unpack .../03-libkrb5support0_1.20.1-2+deb12u4_amd64.deb ...
#11 6.650 Unpacking libkrb5support0:amd64 (1.20.1-2+deb12u4) ...
#11 6.680 Selecting previously unselected package libk5crypto3:amd64.
#11 6.682 Preparing to unpack .../04-libk5crypto3_1.20.1-2+deb12u4_amd64.deb ...
#11 6.685 Unpacking libk5crypto3:amd64 (1.20.1-2+deb12u4) ...
#11 6.719 Selecting previously unselected package libkeyutils1:amd64.
#11 6.721 Preparing to unpack .../05-libkeyutils1_1.6.3-2_amd64.deb ...
#11 6.724 Unpacking libkeyutils1:amd64 (1.6.3-2) ...
#11 6.754 Selecting previously unselected package libkrb5-3:amd64.
#11 6.756 Preparing to unpack .../06-libkrb5-3_1.20.1-2+deb12u4_amd64.deb ...
#11 6.759 Unpacking libkrb5-3:amd64 (1.20.1-2+deb12u4) ...
#11 6.814 Selecting previously unselected package libgssapi-krb5-2:amd64.
#11 6.816 Preparing to unpack .../07-libgssapi-krb5-2_1.20.1-2+deb12u4_amd64.deb ...
#11 6.819 Unpacking libgssapi-krb5-2:amd64 (1.20.1-2+deb12u4) ...
#11 6.852 Selecting previously unselected package libtirpc-common.
#11 6.854 Preparing to unpack .../08-libtirpc-common_1.3.3+ds-1_all.deb ...
#11 6.857 Unpacking libtirpc-common (1.3.3+ds-1) ...
#11 6.885 Selecting previously unselected package libtirpc3:amd64.
#11 6.887 Preparing to unpack .../09-libtirpc3_1.3.3+ds-1_amd64.deb ...
#11 6.889 Unpacking libtirpc3:amd64 (1.3.3+ds-1) ...
#11 6.921 Selecting previously unselected package libnsl2:amd64.
#11 6.923 Preparing to unpack .../10-libnsl2_1.3.0-2_amd64.deb ...
#11 6.925 Unpacking libnsl2:amd64 (1.3.0-2) ...
#11 6.955 Selecting previously unselected package readline-common.
#11 6.957 Preparing to unpack .../11-readline-common_8.2-1.3_all.deb ...
#11 6.960 Unpacking readline-common (8.2-1.3) ...
#11 6.995 Selecting previously unselected package libreadline8:amd64.
#11 6.996 Preparing to unpack .../12-libreadline8_8.2-1.3_amd64.deb ...
#11 6.999 Unpacking libreadline8:amd64 (8.2-1.3) ...
#11 7.038 Selecting previously unselected package libsqlite3-0:amd64.
#11 7.040 Preparing to unpack .../13-libsqlite3-0_3.40.1-2+deb12u2_amd64.deb ...
#11 7.043 Unpacking libsqlite3-0:amd64 (3.40.1-2+deb12u2) ...
#11 7.104 Selecting previously unselected package libpython3.11-stdlib:amd64.
#11 7.106 Preparing to unpack .../14-libpython3.11-stdlib_3.11.2-6+deb12u6_amd64.deb ...
#11 7.110 Unpacking libpython3.11-stdlib:amd64 (3.11.2-6+deb12u6) ...
#11 7.262 Selecting previously unselected package python3.11.
#11 7.264 Preparing to unpack .../15-python3.11_3.11.2-6+deb12u6_amd64.deb ...
#11 7.267 Unpacking python3.11 (3.11.2-6+deb12u6) ...
#11 7.309 Selecting previously unselected package libpython3-stdlib:amd64.
#11 7.312 Preparing to unpack .../16-libpython3-stdlib_3.11.2-1+b1_amd64.deb ...
#11 7.316 Unpacking libpython3-stdlib:amd64 (3.11.2-1+b1) ...
#11 7.363 Setting up python3-minimal (3.11.2-1+b1) ...
#11 7.548 Selecting previously unselected package python3.
#11 7.548 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 8935 files and directories currently installed.)
#11 7.557 Preparing to unpack .../000-python3_3.11.2-1+b1_amd64.deb ...
#11 7.567 Unpacking python3 (3.11.2-1+b1) ...
#11 7.618 Selecting previously unselected package bzip2.
#11 7.620 Preparing to unpack .../001-bzip2_1.0.8-5+b1_amd64.deb ...
#11 7.627 Unpacking bzip2 (1.0.8-5+b1) ...
#11 7.688 Selecting previously unselected package xz-utils.
#11 7.690 Preparing to unpack .../002-xz-utils_5.4.1-1_amd64.deb ...
#11 7.696 Unpacking xz-utils (5.4.1-1) ...
#11 7.778 Selecting previously unselected package binutils-common:amd64.
#11 7.780 Preparing to unpack .../003-binutils-common_2.40-2_amd64.deb ...
#11 7.787 Unpacking binutils-common:amd64 (2.40-2) ...
#11 8.022 Selecting previously unselected package libbinutils:amd64.
#11 8.023 Preparing to unpack .../004-libbinutils_2.40-2_amd64.deb ...
#11 8.030 Unpacking libbinutils:amd64 (2.40-2) ...
#11 8.118 Selecting previously unselected package libctf-nobfd0:amd64.
#11 8.120 Preparing to unpack .../005-libctf-nobfd0_2.40-2_amd64.deb ...
#11 8.126 Unpacking libctf-nobfd0:amd64 (2.40-2) ...
#11 8.189 Selecting previously unselected package libctf0:amd64.
#11 8.191 Preparing to unpack .../006-libctf0_2.40-2_amd64.deb ...
#11 8.197 Unpacking libctf0:amd64 (2.40-2) ...
#11 8.276 Selecting previously unselected package libgprofng0:amd64.
#11 8.278 Preparing to unpack .../007-libgprofng0_2.40-2_amd64.deb ...
#11 8.285 Unpacking libgprofng0:amd64 (2.40-2) ...
#11 8.396 Selecting previously unselected package libjansson4:amd64.
#11 8.398 Preparing to unpack .../008-libjansson4_2.14-2_amd64.deb ...
#11 8.405 Unpacking libjansson4:amd64 (2.14-2) ...
#11 8.454 Selecting previously unselected package binutils-x86-64-linux-gnu.
#11 8.455 Preparing to unpack .../009-binutils-x86-64-linux-gnu_2.40-2_amd64.deb ...
#11 8.462 Unpacking binutils-x86-64-linux-gnu (2.40-2) ...
#11 8.695 Selecting previously unselected package binutils.
#11 8.695 Preparing to unpack .../010-binutils_2.40-2_amd64.deb ...
#11 8.702 Unpacking binutils (2.40-2) ...
#11 8.752 Selecting previously unselected package libc-dev-bin.
#11 8.754 Preparing to unpack .../011-libc-dev-bin_2.36-9+deb12u13_amd64.deb ...
#11 8.761 Unpacking libc-dev-bin (2.36-9+deb12u13) ...
#11 8.809 Selecting previously unselected package linux-libc-dev:amd64.
#11 8.810 Preparing to unpack .../012-linux-libc-dev_6.1.159-1_amd64.deb ...
#11 8.817 Unpacking linux-libc-dev:amd64 (6.1.159-1) ...
#11 9.082 Selecting previously unselected package libcrypt-dev:amd64.
#11 9.084 Preparing to unpack .../013-libcrypt-dev_1%3a4.4.33-2_amd64.deb ...
#11 9.097 Unpacking libcrypt-dev:amd64 (1:4.4.33-2) ...
#11 9.152 Selecting previously unselected package libtirpc-dev:amd64.
#11 9.153 Preparing to unpack .../014-libtirpc-dev_1.3.3+ds-1_amd64.deb ...
#11 9.161 Unpacking libtirpc-dev:amd64 (1.3.3+ds-1) ...
#11 9.220 Selecting previously unselected package libnsl-dev:amd64.
#11 9.222 Preparing to unpack .../015-libnsl-dev_1.3.0-2_amd64.deb ...
#11 9.229 Unpacking libnsl-dev:amd64 (1.3.0-2) ...
#11 9.281 Selecting previously unselected package rpcsvc-proto.
#11 9.284 Preparing to unpack .../016-rpcsvc-proto_1.4.3-1_amd64.deb ...
#11 9.291 Unpacking rpcsvc-proto (1.4.3-1) ...
#11 9.341 Selecting previously unselected package libc6-dev:amd64.
#11 9.344 Preparing to unpack .../017-libc6-dev_2.36-9+deb12u13_amd64.deb ...
#11 9.350 Unpacking libc6-dev:amd64 (2.36-9+deb12u13) ...
#11 9.552 Selecting previously unselected package libisl23:amd64.
#11 9.554 Preparing to unpack .../018-libisl23_0.25-1.1_amd64.deb ...
#11 9.561 Unpacking libisl23:amd64 (0.25-1.1) ...
#11 9.666 Selecting previously unselected package libmpfr6:amd64.
#11 9.669 Preparing to unpack .../019-libmpfr6_4.2.0-1_amd64.deb ...
#11 9.675 Unpacking libmpfr6:amd64 (4.2.0-1) ...
#11 9.754 Selecting previously unselected package libmpc3:amd64.
#11 9.755 Preparing to unpack .../020-libmpc3_1.3.1-1_amd64.deb ...
#11 9.759 Unpacking libmpc3:amd64 (1.3.1-1) ...
#11 9.811 Selecting previously unselected package cpp-12.
#11 9.812 Preparing to unpack .../021-cpp-12_12.2.0-14+deb12u1_amd64.deb ...
#11 9.818 Unpacking cpp-12 (12.2.0-14+deb12u1) ...
#11 10.37 Selecting previously unselected package cpp.
#11 10.37 Preparing to unpack .../022-cpp_4%3a12.2.0-3_amd64.deb ...
#11 10.38 Unpacking cpp (4:12.2.0-3) ...
#11 10.43 Selecting previously unselected package libcc1-0:amd64.
#11 10.43 Preparing to unpack .../023-libcc1-0_12.2.0-14+deb12u1_amd64.deb ...
#11 10.43 Unpacking libcc1-0:amd64 (12.2.0-14+deb12u1) ...
#11 10.49 Selecting previously unselected package libgomp1:amd64.
#11 10.49 Preparing to unpack .../024-libgomp1_12.2.0-14+deb12u1_amd64.deb ...
#11 10.49 Unpacking libgomp1:amd64 (12.2.0-14+deb12u1) ...
#11 10.55 Selecting previously unselected package libitm1:amd64.
#11 10.55 Preparing to unpack .../025-libitm1_12.2.0-14+deb12u1_amd64.deb ...
#11 10.56 Unpacking libitm1:amd64 (12.2.0-14+deb12u1) ...
#11 10.61 Selecting previously unselected package libatomic1:amd64.
#11 10.61 Preparing to unpack .../026-libatomic1_12.2.0-14+deb12u1_amd64.deb ...
#11 10.62 Unpacking libatomic1:amd64 (12.2.0-14+deb12u1) ...
#11 10.67 Selecting previously unselected package libasan8:amd64.
#11 10.67 Preparing to unpack .../027-libasan8_12.2.0-14+deb12u1_amd64.deb ...
#11 10.68 Unpacking libasan8:amd64 (12.2.0-14+deb12u1) ...
#11 10.86 Selecting previously unselected package liblsan0:amd64.
#11 10.86 Preparing to unpack .../028-liblsan0_12.2.0-14+deb12u1_amd64.deb ...
#11 10.87 Unpacking liblsan0:amd64 (12.2.0-14+deb12u1) ...
#11 10.96 Selecting previously unselected package libtsan2:amd64.
#11 10.96 Preparing to unpack .../029-libtsan2_12.2.0-14+deb12u1_amd64.deb ...
#11 10.97 Unpacking libtsan2:amd64 (12.2.0-14+deb12u1) ...
#11 11.14 Selecting previously unselected package libubsan1:amd64.
#11 11.15 Preparing to unpack .../030-libubsan1_12.2.0-14+deb12u1_amd64.deb ...
#11 11.15 Unpacking libubsan1:amd64 (12.2.0-14+deb12u1) ...
#11 11.26 Selecting previously unselected package libquadmath0:amd64.
#11 11.26 Preparing to unpack .../031-libquadmath0_12.2.0-14+deb12u1_amd64.deb ...
#11 11.27 Unpacking libquadmath0:amd64 (12.2.0-14+deb12u1) ...
#11 11.31 Selecting previously unselected package libgcc-12-dev:amd64.
#11 11.32 Preparing to unpack .../032-libgcc-12-dev_12.2.0-14+deb12u1_amd64.deb ...
#11 11.32 Unpacking libgcc-12-dev:amd64 (12.2.0-14+deb12u1) ...
#11 11.51 Selecting previously unselected package gcc-12.
#11 11.51 Preparing to unpack .../033-gcc-12_12.2.0-14+deb12u1_amd64.deb ...
#11 11.51 Unpacking gcc-12 (12.2.0-14+deb12u1) ...
#11 12.30 Selecting previously unselected package gcc.
#11 12.30 Preparing to unpack .../034-gcc_4%3a12.2.0-3_amd64.deb ...
#11 12.30 Unpacking gcc (4:12.2.0-3) ...
#11 12.33 Selecting previously unselected package libstdc++-12-dev:amd64.
#11 12.33 Preparing to unpack .../035-libstdc++-12-dev_12.2.0-14+deb12u1_amd64.deb ...
#11 12.34 Unpacking libstdc++-12-dev:amd64 (12.2.0-14+deb12u1) ...
#11 12.56 Selecting previously unselected package g++-12.
#11 12.56 Preparing to unpack .../036-g++-12_12.2.0-14+deb12u1_amd64.deb ...
#11 12.56 Unpacking g++-12 (12.2.0-14+deb12u1) ...
#11 13.12 Selecting previously unselected package g++.
#11 13.13 Preparing to unpack .../037-g++_4%3a12.2.0-3_amd64.deb ...
#11 13.13 Unpacking g++ (4:12.2.0-3) ...
#11 13.15 Selecting previously unselected package make.
#11 13.15 Preparing to unpack .../038-make_4.3-4.1_amd64.deb ...
#11 13.16 Unpacking make (4.3-4.1) ...
#11 13.21 Selecting previously unselected package libdpkg-perl.
#11 13.21 Preparing to unpack .../039-libdpkg-perl_1.21.22_all.deb ...
#11 13.21 Unpacking libdpkg-perl (1.21.22) ...
#11 13.28 Selecting previously unselected package patch.
#11 13.28 Preparing to unpack .../040-patch_2.7.6-7_amd64.deb ...
#11 13.28 Unpacking patch (2.7.6-7) ...
#11 13.32 Selecting previously unselected package dpkg-dev.
#11 13.32 Preparing to unpack .../041-dpkg-dev_1.21.22_all.deb ...
#11 13.32 Unpacking dpkg-dev (1.21.22) ...
#11 13.41 Selecting previously unselected package build-essential.
#11 13.42 Preparing to unpack .../042-build-essential_12.9_amd64.deb ...
#11 13.42 Unpacking build-essential (12.9) ...
#11 13.45 Selecting previously unselected package python3-pkg-resources.
#11 13.45 Preparing to unpack .../043-python3-pkg-resources_66.1.1-1+deb12u2_all.deb ...
#11 13.46 Unpacking python3-pkg-resources (66.1.1-1+deb12u2) ...
#11 13.52 Selecting previously unselected package python3-six.
#11 13.52 Preparing to unpack .../044-python3-six_1.16.0-4_all.deb ...
#11 13.53 Unpacking python3-six (1.16.0-4) ...
#11 13.57 Selecting previously unselected package gyp.
#11 13.58 Preparing to unpack .../045-gyp_0.1+20220404git9ecf45e-2_all.deb ...
#11 13.58 Unpacking gyp (0.1+20220404git9ecf45e-2) ...
#11 13.64 Selecting previously unselected package libbrotli1:amd64.
#11 13.64 Preparing to unpack .../046-libbrotli1_1.0.9-2+b6_amd64.deb ...
#11 13.65 Unpacking libbrotli1:amd64 (1.0.9-2+b6) ...
#11 13.71 Selecting previously unselected package libc-ares2:amd64.
#11 13.72 Preparing to unpack .../047-libc-ares2_1.18.1-3_amd64.deb ...
#11 13.72 Unpacking libc-ares2:amd64 (1.18.1-3) ...
#11 13.77 Selecting previously unselected package libicu72:amd64.
#11 13.77 Preparing to unpack .../048-libicu72_72.1-3+deb12u1_amd64.deb ...
#11 13.77 Unpacking libicu72:amd64 (72.1-3+deb12u1) ...
#11 15.42 Selecting previously unselected package libjs-events.
#11 15.42 Preparing to unpack .../049-libjs-events_3.3.0+~3.0.0-3_all.deb ...
#11 15.64 Unpacking libjs-events (3.3.0+~3.0.0-3) ...
#11 17.39 Selecting previously unselected package libjs-inherits.
#11 17.44 Preparing to unpack .../050-libjs-inherits_2.0.4-6_all.deb ...
#11 17.61 Unpacking libjs-inherits (2.0.4-6) ...
#11 18.09 Selecting previously unselected package libnghttp2-14:amd64.
#11 18.10 Preparing to unpack .../051-libnghttp2-14_1.52.0-1+deb12u2_amd64.deb ...
#11 18.21 Unpacking libnghttp2-14:amd64 (1.52.0-1+deb12u2) ...
#11 18.90 Selecting previously unselected package libssl-dev:amd64.
#11 18.90 Preparing to unpack .../052-libssl-dev_3.0.18-1~deb12u1_amd64.deb ...
#11 19.15 Unpacking libssl-dev:amd64 (3.0.18-1~deb12u1) ...
#11 20.45 Selecting previously unselected package libuv1:amd64.
#11 20.46 Preparing to unpack .../053-libuv1_1.44.2-1+deb12u1_amd64.deb ...
#11 20.57 Unpacking libuv1:amd64 (1.44.2-1+deb12u1) ...
#11 21.34 Selecting previously unselected package libuv1-dev:amd64.
#11 21.34 Preparing to unpack .../054-libuv1-dev_1.44.2-1+deb12u1_amd64.deb ...
#11 21.36 Unpacking libuv1-dev:amd64 (1.44.2-1+deb12u1) ...
#11 21.53 Selecting previously unselected package node-xtend.
#11 21.54 Preparing to unpack .../055-node-xtend_4.0.2-3_all.deb ...
#11 21.54 Unpacking node-xtend (4.0.2-3) ...
#11 21.59 Selecting previously unselected package nodejs.
#11 21.59 Preparing to unpack .../056-nodejs_18.20.4+dfsg-1~deb12u1_amd64.deb ...
#11 21.60 Unpacking nodejs (18.20.4+dfsg-1~deb12u1) ...
#11 21.69 Selecting previously unselected package node-acorn.
#11 21.69 Preparing to unpack .../057-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#11 21.70 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#11 21.77 Selecting previously unselected package node-cjs-module-lexer.
#11 21.78 Preparing to unpack .../058-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#11 21.78 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#11 21.82 Selecting previously unselected package node-busboy.
#11 21.82 Preparing to unpack .../059-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#11 21.83 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#11 21.88 Selecting previously unselected package node-undici.
#11 21.89 Preparing to unpack .../060-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#11 21.90 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#11 21.98 Selecting previously unselected package libnode108:amd64.
#11 21.98 Preparing to unpack .../061-libnode108_18.20.4+dfsg-1~deb12u1_amd64.deb ...
#11 21.99 Unpacking libnode108:amd64 (18.20.4+dfsg-1~deb12u1) ...
#11 22.49 Selecting previously unselected package libnode-dev.
#11 22.49 Preparing to unpack .../062-libnode-dev_18.20.4+dfsg-1~deb12u1_amd64.deb ...
#11 22.49 Unpacking libnode-dev (18.20.4+dfsg-1~deb12u1) ...
#11 22.61 Selecting previously unselected package libpkgconf3:amd64.
#11 22.61 Preparing to unpack .../063-libpkgconf3_1.8.1-1_amd64.deb ...
#11 22.62 Unpacking libpkgconf3:amd64 (1.8.1-1) ...
#11 22.66 Selecting previously unselected package node-abbrev.
#11 22.66 Preparing to unpack .../064-node-abbrev_1.1.1+~1.1.2-1_all.deb ...
#11 22.66 Unpacking node-abbrev (1.1.1+~1.1.2-1) ...
#11 22.70 Selecting previously unselected package node-ms.
#11 22.70 Preparing to unpack .../065-node-ms_2.1.3+~cs0.7.31-3_all.deb ...
#11 22.71 Unpacking node-ms (2.1.3+~cs0.7.31-3) ...
#11 22.74 Selecting previously unselected package node-debug.
#11 22.75 Preparing to unpack .../066-node-debug_4.3.4+~cs4.1.7-1_all.deb ...
#11 22.75 Unpacking node-debug (4.3.4+~cs4.1.7-1) ...
#11 22.79 Selecting previously unselected package node-yallist.
#11 22.79 Preparing to unpack .../067-node-yallist_4.0.0+~4.0.1-1_all.deb ...
#11 22.80 Unpacking node-yallist (4.0.0+~4.0.1-1) ...
#11 22.83 Selecting previously unselected package node-lru-cache.
#11 22.84 Preparing to unpack .../068-node-lru-cache_7.14.1-1_all.deb ...
#11 22.84 Unpacking node-lru-cache (7.14.1-1) ...
#11 22.88 Selecting previously unselected package node-semver.
#11 22.88 Preparing to unpack .../069-node-semver_7.3.5+~7.3.9-2_all.deb ...
#11 22.89 Unpacking node-semver (7.3.5+~7.3.9-2) ...
#11 22.94 Selecting previously unselected package node-agent-base.
#11 22.95 Preparing to unpack .../070-node-agent-base_6.0.2+~cs5.4.2-2_all.deb ...
#11 22.95 Unpacking node-agent-base (6.0.2+~cs5.4.2-2) ...
#11 23.00 Selecting previously unselected package node-ansi-regex.
#11 23.00 Preparing to unpack .../071-node-ansi-regex_5.0.1-1_all.deb ...
#11 23.00 Unpacking node-ansi-regex (5.0.1-1) ...
#11 23.04 Selecting previously unselected package node-color-name.
#11 23.04 Preparing to unpack .../072-node-color-name_1.1.4+~1.1.1-2_all.deb ...
#11 23.05 Unpacking node-color-name (1.1.4+~1.1.1-2) ...
#11 23.09 Selecting previously unselected package node-color-convert.
#11 23.09 Preparing to unpack .../073-node-color-convert_2.0.1+~cs2.0.0-2_all.deb ...
#11 23.10 Unpacking node-color-convert (2.0.1+~cs2.0.0-2) ...
#11 23.14 Selecting previously unselected package node-ansi-styles.
#11 23.14 Preparing to unpack .../074-node-ansi-styles_6.2.1-2_all.deb ...
#11 23.14 Unpacking node-ansi-styles (6.2.1-2) ...
#11 23.18 Selecting previously unselected package node-aproba.
#11 23.18 Preparing to unpack .../075-node-aproba_2.0.0-3_all.deb ...
#11 23.19 Unpacking node-aproba (2.0.0-3) ...
#11 23.22 Selecting previously unselected package node-delegates.
#11 23.22 Preparing to unpack .../076-node-delegates_1.0.0-3_all.deb ...
#11 23.23 Unpacking node-delegates (1.0.0-3) ...
#11 23.27 Selecting previously unselected package node-inherits.
#11 23.27 Preparing to unpack .../077-node-inherits_2.0.4-6_all.deb ...
#11 23.27 Unpacking node-inherits (2.0.4-6) ...
#11 23.31 Selecting previously unselected package node-core-util-is.
#11 23.31 Preparing to unpack .../078-node-core-util-is_1.0.3-1_all.deb ...
#11 23.32 Unpacking node-core-util-is (1.0.3-1) ...
#11 23.35 Selecting previously unselected package node-safe-buffer.
#11 23.36 Preparing to unpack .../079-node-safe-buffer_5.2.1+~cs2.1.2-3_all.deb ...
#11 23.36 Unpacking node-safe-buffer (5.2.1+~cs2.1.2-3) ...
#11 23.40 Selecting previously unselected package node-string-decoder.
#11 23.40 Preparing to unpack .../080-node-string-decoder_1.3.0-6_all.deb ...
#11 23.41 Unpacking node-string-decoder (1.3.0-6) ...
#11 23.45 Selecting previously unselected package node-process-nextick-args.
#11 23.45 Preparing to unpack .../081-node-process-nextick-args_2.0.1-3_all.deb ...
#11 23.45 Unpacking node-process-nextick-args (2.0.1-3) ...
#11 23.54 Selecting previously unselected package node-util-deprecate.
#11 23.54 Preparing to unpack .../082-node-util-deprecate_1.0.2-3_all.deb ...
#11 23.54 Unpacking node-util-deprecate (1.0.2-3) ...
#11 23.58 Selecting previously unselected package node-isarray.
#11 23.58 Preparing to unpack .../083-node-isarray_2.0.5-4_all.deb ...
#11 23.59 Unpacking node-isarray (2.0.5-4) ...
#11 23.65 Selecting previously unselected package node-readable-stream.
#11 23.65 Preparing to unpack .../084-node-readable-stream_3.6.0+~cs3.0.0-4_all.deb ...
#11 23.66 Unpacking node-readable-stream (3.6.0+~cs3.0.0-4) ...
#11 23.70 Selecting previously unselected package node-are-we-there-yet.
#11 23.70 Preparing to unpack .../085-node-are-we-there-yet_3.0.1+~1.1.0-1_all.deb ...
#11 23.71 Unpacking node-are-we-there-yet (3.0.1+~1.1.0-1) ...
#11 23.75 Selecting previously unselected package node-balanced-match.
#11 23.75 Preparing to unpack .../086-node-balanced-match_2.0.0-1_all.deb ...
#11 23.76 Unpacking node-balanced-match (2.0.0-1) ...
#11 23.79 Selecting previously unselected package node-brace-expansion.
#11 23.80 Preparing to unpack .../087-node-brace-expansion_2.0.1-2_all.deb ...
#11 23.80 Unpacking node-brace-expansion (2.0.1-2) ...
#11 23.84 Selecting previously unselected package node-chownr.
#11 23.84 Preparing to unpack .../088-node-chownr_2.0.0-2_all.deb ...
#11 23.85 Unpacking node-chownr (2.0.0-2) ...
#11 23.88 Selecting previously unselected package node-clone.
#11 23.88 Preparing to unpack .../089-node-clone_2.1.2-4_all.deb ...
#11 23.89 Unpacking node-clone (2.1.2-4) ...
#11 23.93 Selecting previously unselected package node-console-control-strings.
#11 23.93 Preparing to unpack .../090-node-console-control-strings_1.1.0-3_all.deb ...
#11 23.93 Unpacking node-console-control-strings (1.1.0-3) ...
#11 23.97 Selecting previously unselected package node-data-uri-to-buffer.
#11 23.97 Preparing to unpack .../091-node-data-uri-to-buffer_4.0.0-3_all.deb ...
#11 23.98 Unpacking node-data-uri-to-buffer (4.0.0-3) ...
#11 24.02 Selecting previously unselected package node-defaults.
#11 24.02 Preparing to unpack .../092-node-defaults_1.0.4+~1.0.3-1_all.deb ...
#11 24.03 Unpacking node-defaults (1.0.4+~1.0.3-1) ...
#11 24.06 Selecting previously unselected package node-iconv-lite.
#11 24.07 Preparing to unpack .../093-node-iconv-lite_0.6.3-3_all.deb ...
#11 24.07 Unpacking node-iconv-lite (0.6.3-3) ...
#11 24.12 Selecting previously unselected package node-encoding.
#11 24.12 Preparing to unpack .../094-node-encoding_0.1.13-2_all.deb ...
#11 24.13 Unpacking node-encoding (0.1.13-2) ...
#11 24.16 Selecting previously unselected package node-events.
#11 24.17 Preparing to unpack .../095-node-events_3.3.0+~3.0.0-3_all.deb ...
#11 24.17 Unpacking node-events (3.3.0+~3.0.0-3) ...
#11 24.23 Selecting previously unselected package node-time-stamp.
#11 24.23 Preparing to unpack .../096-node-time-stamp_2.2.0-2_all.deb ...
#11 24.23 Unpacking node-time-stamp (2.2.0-2) ...
#11 24.27 Selecting previously unselected package node-fancy-log.
#11 24.28 Preparing to unpack .../097-node-fancy-log_1.3.3+~cs1.3.1-2_all.deb ...
#11 24.28 Unpacking node-fancy-log (1.3.3+~cs1.3.1-2) ...
#11 24.33 Selecting previously unselected package node-fetch.
#11 24.33 Preparing to unpack .../098-node-fetch_3.3.0+~cs11.4.11-2_all.deb ...
#11 24.34 Unpacking node-fetch (3.3.0+~cs11.4.11-2) ...
#11 24.41 Selecting previously unselected package node-fs.realpath.
#11 24.41 Preparing to unpack .../099-node-fs.realpath_1.0.0-3_all.deb ...
#11 24.42 Unpacking node-fs.realpath (1.0.0-3) ...
#11 24.46 Selecting previously unselected package node-has-unicode.
#11 24.46 Preparing to unpack .../100-node-has-unicode_2.0.1-5_all.deb ...
#11 24.47 Unpacking node-has-unicode (2.0.1-5) ...
#11 24.50 Selecting previously unselected package node-signal-exit.
#11 24.51 Preparing to unpack .../101-node-signal-exit_3.0.7+~3.0.1-1_all.deb ...
#11 24.51 Unpacking node-signal-exit (3.0.7+~3.0.1-1) ...
#11 24.55 Selecting previously unselected package node-slice-ansi.
#11 24.55 Preparing to unpack .../102-node-slice-ansi_5.0.0+~cs9.0.0-5_all.deb ...
#11 24.56 Unpacking node-slice-ansi (5.0.0+~cs9.0.0-5) ...
#11 24.63 Selecting previously unselected package node-strip-ansi.
#11 24.63 Preparing to unpack .../103-node-strip-ansi_6.0.1-2_all.deb ...
#11 24.63 Unpacking node-strip-ansi (6.0.1-2) ...
#11 24.66 Selecting previously unselected package node-wcwidth.js.
#11 24.66 Preparing to unpack .../104-node-wcwidth.js_1.0.2-2_all.deb ...
#11 24.66 Unpacking node-wcwidth.js (1.0.2-2) ...
#11 24.69 Selecting previously unselected package node-string-width.
#11 24.69 Preparing to unpack .../105-node-string-width_4.2.3+~cs13.2.3-1_all.deb ...
#11 24.70 Unpacking node-string-width (4.2.3+~cs13.2.3-1) ...
#11 24.73 Selecting previously unselected package node-wide-align.
#11 24.73 Preparing to unpack .../106-node-wide-align_1.1.3-4_all.deb ...
#11 24.73 Unpacking node-wide-align (1.1.3-4) ...
#11 24.76 Selecting previously unselected package node-gauge.
#11 24.76 Preparing to unpack .../107-node-gauge_4.0.4-1_all.deb ...
#11 24.76 Unpacking node-gauge (4.0.4-1) ...
#11 24.79 Selecting previously unselected package node-wrappy.
#11 24.79 Preparing to unpack .../108-node-wrappy_1.0.2-3_all.deb ...
#11 24.80 Unpacking node-wrappy (1.0.2-3) ...
#11 24.82 Selecting previously unselected package node-once.
#11 24.83 Preparing to unpack .../109-node-once_1.4.0-7_all.deb ...
#11 24.83 Unpacking node-once (1.4.0-7) ...
#11 24.85 Selecting previously unselected package node-inflight.
#11 24.86 Preparing to unpack .../110-node-inflight_1.0.6-2_all.deb ...
#11 24.86 Unpacking node-inflight (1.0.6-2) ...
#11 24.89 Selecting previously unselected package node-minimatch.
#11 24.89 Preparing to unpack .../111-node-minimatch_5.1.1+~5.1.2-1_all.deb ...
#11 24.90 Unpacking node-minimatch (5.1.1+~5.1.2-1) ...
#11 24.94 Selecting previously unselected package node-glob.
#11 24.94 Preparing to unpack .../112-node-glob_8.0.3+~cs8.4.15-1_all.deb ...
#11 24.95 Unpacking node-glob (8.0.3+~cs8.4.15-1) ...
#11 25.01 Selecting previously unselected package node-graceful-fs.
#11 25.01 Preparing to unpack .../113-node-graceful-fs_4.2.10-1_all.deb ...
#11 25.02 Unpacking node-graceful-fs (4.2.10-1) ...
#11 25.07 Selecting previously unselected package node-https-proxy-agent.
#11 25.08 Preparing to unpack .../114-node-https-proxy-agent_5.0.1+~cs8.0.0-3_all.deb ...
#11 25.09 Unpacking node-https-proxy-agent (5.0.1+~cs8.0.0-3) ...
#11 25.14 Selecting previously unselected package node-mkdirp.
#11 25.14 Preparing to unpack .../115-node-mkdirp_1.0.4+~1.0.2-4_all.deb ...
#11 25.15 Unpacking node-mkdirp (1.0.4+~1.0.2-4) ...
#11 25.19 Selecting previously unselected package node-nopt.
#11 25.20 Preparing to unpack .../116-node-nopt_5.0.0-4_all.deb ...
#11 25.20 Unpacking node-nopt (5.0.0-4) ...
#11 25.25 Selecting previously unselected package node-set-blocking.
#11 25.26 Preparing to unpack .../117-node-set-blocking_2.0.0-2_all.deb ...
#11 25.26 Unpacking node-set-blocking (2.0.0-2) ...
#11 25.31 Selecting previously unselected package node-npmlog.
#11 25.32 Preparing to unpack .../118-node-npmlog_7.0.1+~4.1.4-1_all.deb ...
#11 25.32 Unpacking node-npmlog (7.0.1+~4.1.4-1) ...
#11 25.37 Selecting previously unselected package node-osenv.
#11 25.38 Preparing to unpack .../119-node-osenv_0.1.5+~0.1.1-1_all.deb ...
#11 25.38 Unpacking node-osenv (0.1.5+~0.1.1-1) ...
#11 25.42 Selecting previously unselected package node-rimraf.
#11 25.43 Preparing to unpack .../120-node-rimraf_3.0.2-2_all.deb ...
#11 25.43 Unpacking node-rimraf (3.0.2-2) ...
#11 25.47 Selecting previously unselected package node-jsonparse.
#11 25.47 Preparing to unpack .../121-node-jsonparse_1.3.1-10_all.deb ...
#11 25.48 Unpacking node-jsonparse (1.3.1-10) ...
#11 25.51 Selecting previously unselected package node-minipass.
#11 25.52 Preparing to unpack .../122-node-minipass_3.3.6+~cs9.4.19-1+deb12u1_all.deb ...
#11 25.52 Unpacking node-minipass (3.3.6+~cs9.4.19-1+deb12u1) ...
#11 25.57 Selecting previously unselected package node-tar.
#11 25.57 Preparing to unpack .../123-node-tar_6.1.13+~cs7.0.5-1_all.deb ...
#11 25.58 Unpacking node-tar (6.1.13+~cs7.0.5-1) ...
#11 25.63 Selecting previously unselected package node-isexe.
#11 25.63 Preparing to unpack .../124-node-isexe_2.0.0+~2.0.1-5_all.deb ...
#11 25.63 Unpacking node-isexe (2.0.0+~2.0.1-5) ...
#11 25.67 Selecting previously unselected package node-which.
#11 25.67 Preparing to unpack .../125-node-which_2.0.2+~cs1.3.2-3_all.deb ...
#11 25.68 Unpacking node-which (2.0.2+~cs1.3.2-3) ...
#11 25.72 Selecting previously unselected package node-gyp.
#11 25.72 Preparing to unpack .../126-node-gyp_9.3.0-2_all.deb ...
#11 25.73 Unpacking node-gyp (9.3.0-2) ...
#11 25.77 Selecting previously unselected package pkgconf-bin.
#11 25.77 Preparing to unpack .../127-pkgconf-bin_1.8.1-1_amd64.deb ...
#11 25.79 Unpacking pkgconf-bin (1.8.1-1) ...
#11 25.82 Selecting previously unselected package pkgconf:amd64.
#11 25.82 Preparing to unpack .../128-pkgconf_1.8.1-1_amd64.deb ...
#11 25.83 Unpacking pkgconf:amd64 (1.8.1-1) ...
#11 25.86 Selecting previously unselected package pkg-config:amd64.
#11 25.86 Preparing to unpack .../129-pkg-config_1.8.1-1_amd64.deb ...
#11 25.86 Unpacking pkg-config:amd64 (1.8.1-1) ...
#11 25.89 Selecting previously unselected package python-is-python3.
#11 25.89 Preparing to unpack .../130-python-is-python3_3.11.2-1+deb12u1_all.deb ...
#11 25.89 Unpacking python-is-python3 (3.11.2-1+deb12u1) ...
#11 25.94 Setting up media-types (10.0.0) ...
#11 25.95 Setting up node-fs.realpath (1.0.0-3) ...
#11 25.96 Setting up libkeyutils1:amd64 (1.6.3-2) ...
#11 25.97 Setting up node-abbrev (1.1.1+~1.1.2-1) ...
#11 25.98 Setting up libicu72:amd64 (72.1-3+deb12u1) ...
#11 26.00 Setting up node-yallist (4.0.0+~4.0.1-1) ...
#11 26.01 Setting up libjs-inherits (2.0.4-6) ...
#11 26.03 Setting up node-ansi-regex (5.0.1-1) ...
#11 26.05 Setting up node-util-deprecate (1.0.2-3) ...
#11 26.06 Setting up node-delegates (1.0.0-3) ...
#11 26.10 Setting up libtirpc-common (1.3.3+ds-1) ...
#11 26.12 Setting up node-isexe (2.0.0+~2.0.1-5) ...
#11 26.12 Setting up libbrotli1:amd64 (1.0.9-2+b6) ...
#11 26.13 Setting up node-jsonparse (1.3.1-10) ...
#11 26.14 Setting up libsqlite3-0:amd64 (3.40.1-2+deb12u2) ...
#11 26.15 Setting up binutils-common:amd64 (2.40-2) ...
#11 26.17 Setting up libnghttp2-14:amd64 (1.52.0-1+deb12u2) ...
#11 26.18 Setting up linux-libc-dev:amd64 (6.1.159-1) ...
#11 26.19 Setting up libctf-nobfd0:amd64 (2.40-2) ...
#11 26.20 Setting up node-color-name (1.1.4+~1.1.1-2) ...
#11 26.21 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#11 26.22 Setting up node-console-control-strings (1.1.0-3) ...
#11 26.23 Setting up libc-ares2:amd64 (1.18.1-3) ...
#11 26.24 Setting up libgomp1:amd64 (12.2.0-14+deb12u1) ...
#11 26.25 Setting up bzip2 (1.0.8-5+b1) ...
#11 26.26 Setting up libjansson4:amd64 (2.14-2) ...
#11 26.27 Setting up node-clone (2.1.2-4) ...
#11 26.27 Setting up libkrb5support0:amd64 (1.20.1-2+deb12u4) ...
#11 26.29 Setting up node-chownr (2.0.0-2) ...
#11 26.30 Setting up node-inherits (2.0.4-6) ...
#11 26.32 Setting up perl-modules-5.36 (5.36.0-7+deb12u3) ...
#11 26.34 Setting up node-safe-buffer (5.2.1+~cs2.1.2-3) ...
#11 26.36 Setting up libpkgconf3:amd64 (1.8.1-1) ...
#11 26.38 Setting up libuv1:amd64 (1.44.2-1+deb12u1) ...
#11 26.40 Setting up rpcsvc-proto (1.4.3-1) ...
#11 26.42 Setting up make (4.3-4.1) ...
#11 26.44 Setting up libmpfr6:amd64 (4.2.0-1) ...
#11 26.46 Setting up node-balanced-match (2.0.0-1) ...
#11 26.48 Setting up node-brace-expansion (2.0.1-2) ...
#11 26.50 Setting up xz-utils (5.4.1-1) ...
#11 26.52 update-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode
#11 26.53 update-alternatives: warning: skip creation of /usr/share/man/man1/lzma.1.gz because associated file /usr/share/man/man1/xz.1.gz (of link group lzma) doesn't exist
#11 26.53 update-alternatives: warning: skip creation of /usr/share/man/man1/unlzma.1.gz because associated file /usr/share/man/man1/unxz.1.gz (of link group lzma) doesn't exist
#11 26.53 update-alternatives: warning: skip creation of /usr/share/man/man1/lzcat.1.gz because associated file /usr/share/man/man1/xzcat.1.gz (of link group lzma) doesn't exist
#11 26.53 update-alternatives: warning: skip creation of /usr/share/man/man1/lzmore.1.gz because associated file /usr/share/man/man1/xzmore.1.gz (of link group lzma) doesn't exist
#11 26.53 update-alternatives: warning: skip creation of /usr/share/man/man1/lzless.1.gz because associated file /usr/share/man/man1/xzless.1.gz (of link group lzma) doesn't exist
#11 26.53 update-alternatives: warning: skip creation of /usr/share/man/man1/lzdiff.1.gz because associated file /usr/share/man/man1/xzdiff.1.gz (of link group lzma) doesn't exist
#11 26.53 update-alternatives: warning: skip creation of /usr/share/man/man1/lzcmp.1.gz because associated file /usr/share/man/man1/xzcmp.1.gz (of link group lzma) doesn't exist
#11 26.53 update-alternatives: warning: skip creation of /usr/share/man/man1/lzgrep.1.gz because associated file /usr/share/man/man1/xzgrep.1.gz (of link group lzma) doesn't exist
#11 26.53 update-alternatives: warning: skip creation of /usr/share/man/man1/lzegrep.1.gz because associated file /usr/share/man/man1/xzegrep.1.gz (of link group lzma) doesn't exist
#11 26.53 update-alternatives: warning: skip creation of /usr/share/man/man1/lzfgrep.1.gz because associated file /usr/share/man/man1/xzfgrep.1.gz (of link group lzma) doesn't exist
#11 26.55 Setting up libquadmath0:amd64 (12.2.0-14+deb12u1) ...
#11 26.57 Setting up node-set-blocking (2.0.0-2) ...
#11 26.59 Setting up libssl-dev:amd64 (3.0.18-1~deb12u1) ...
#11 26.61 Setting up libmpc3:amd64 (1.3.1-1) ...
#11 26.64 Setting up libatomic1:amd64 (12.2.0-14+deb12u1) ...
#11 26.66 Setting up patch (2.7.6-7) ...
#11 26.68 Setting up node-signal-exit (3.0.7+~3.0.1-1) ...
#11 26.70 Setting up pkgconf-bin (1.8.1-1) ...
#11 26.73 Setting up libncursesw6:amd64 (6.4-4) ...
#11 26.75 Setting up libk5crypto3:amd64 (1.20.1-2+deb12u4) ...
#11 26.77 Setting up node-wrappy (1.0.2-3) ...
#11 26.79 Setting up libubsan1:amd64 (12.2.0-14+deb12u1) ...
#11 26.81 Setting up node-defaults (1.0.4+~1.0.3-1) ...
#11 26.83 Setting up node-graceful-fs (4.2.10-1) ...
#11 26.86 Setting up libcrypt-dev:amd64 (1:4.4.33-2) ...
#11 26.88 Setting up libasan8:amd64 (12.2.0-14+deb12u1) ...
#11 26.91 Setting up node-aproba (2.0.0-3) ...
#11 26.93 Setting up node-string-decoder (1.3.0-6) ...
#11 26.95 Setting up node-time-stamp (2.2.0-2) ...
#11 26.97 Setting up libjs-events (3.3.0+~3.0.0-3) ...
#11 27.00 Setting up libkrb5-3:amd64 (1.20.1-2+deb12u4) ...
#11 27.02 Setting up node-core-util-is (1.0.3-1) ...
#11 27.05 Setting up node-minimatch (5.1.1+~5.1.2-1) ...
#11 27.07 Setting up libtsan2:amd64 (12.2.0-14+deb12u1) ...
#11 27.09 Setting up libbinutils:amd64 (2.40-2) ...
#11 27.12 Setting up node-xtend (4.0.2-3) ...
#11 27.14 Setting up libisl23:amd64 (0.25-1.1) ...
#11 27.16 Setting up libc-dev-bin (2.36-9+deb12u13) ...
#11 27.19 Setting up readline-common (8.2-1.3) ...
#11 27.21 Setting up node-color-convert (2.0.1+~cs2.0.0-2) ...
#11 27.24 Setting up libcc1-0:amd64 (12.2.0-14+deb12u1) ...
#11 27.26 Setting up node-data-uri-to-buffer (4.0.0-3) ...
#11 27.28 Setting up liblsan0:amd64 (12.2.0-14+deb12u1) ...
#11 27.30 Setting up libitm1:amd64 (12.2.0-14+deb12u1) ...
#11 27.32 Setting up node-isarray (2.0.5-4) ...
#11 27.34 Setting up node-osenv (0.1.5+~0.1.1-1) ...
#11 27.36 Setting up libgdbm6:amd64 (1.23-3) ...
#11 27.38 Setting up node-process-nextick-args (2.0.1-3) ...
#11 27.41 Setting up node-has-unicode (2.0.1-5) ...
#11 27.43 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#11 27.45 Setting up libctf0:amd64 (2.40-2) ...
#11 27.48 Setting up libuv1-dev:amd64 (1.44.2-1+deb12u1) ...
#11 27.50 Setting up node-readable-stream (3.6.0+~cs3.0.0-4) ...
#11 27.55 Setting up node-lru-cache (7.14.1-1) ...
#11 27.58 Setting up cpp-12 (12.2.0-14+deb12u1) ...
#11 27.60 Setting up node-once (1.4.0-7) ...
#11 27.62 Setting up libreadline8:amd64 (8.2-1.3) ...
#11 27.65 Setting up node-are-we-there-yet (3.0.1+~1.1.0-1) ...
#11 27.67 Setting up node-events (3.3.0+~3.0.0-3) ...
#11 27.69 Setting up node-fancy-log (1.3.3+~cs1.3.1-2) ...
#11 27.71 Setting up pkgconf:amd64 (1.8.1-1) ...
#11 27.73 Setting up node-wcwidth.js (1.0.2-2) ...
#11 27.75 Setting up node-fetch (3.3.0+~cs11.4.11-2) ...
#11 27.78 Setting up node-iconv-lite (0.6.3-3) ...
#11 27.80 Setting up libgprofng0:amd64 (2.40-2) ...
#11 27.83 Setting up node-ansi-styles (6.2.1-2) ...
#11 27.85 Setting up libgcc-12-dev:amd64 (12.2.0-14+deb12u1) ...
#11 27.87 Setting up libgssapi-krb5-2:amd64 (1.20.1-2+deb12u4) ...
#11 27.90 Setting up pkg-config:amd64 (1.8.1-1) ...
#11 27.92 Setting up libgdbm-compat4:amd64 (1.23-3) ...
#11 27.94 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#11 27.97 Setting up node-inflight (1.0.6-2) ...
#11 27.99 Setting up cpp (4:12.2.0-3) ...
#11 28.02 Setting up node-encoding (0.1.13-2) ...
#11 28.05 Setting up libperl5.36:amd64 (5.36.0-7+deb12u3) ...
#11 28.08 Setting up node-slice-ansi (5.0.0+~cs9.0.0-5) ...
#11 28.10 Setting up binutils-x86-64-linux-gnu (2.40-2) ...
#11 28.13 Setting up libtirpc3:amd64 (1.3.3+ds-1) ...
#11 28.16 Setting up binutils (2.40-2) ...
#11 28.18 Setting up perl (5.36.0-7+deb12u3) ...
#11 28.22 Setting up libtirpc-dev:amd64 (1.3.3+ds-1) ...
#11 28.24 Setting up node-glob (8.0.3+~cs8.4.15-1) ...
#11 28.26 Setting up gcc-12 (12.2.0-14+deb12u1) ...
#11 28.29 Setting up libdpkg-perl (1.21.22) ...
#11 28.31 Setting up node-minipass (3.3.6+~cs9.4.19-1+deb12u1) ...
#11 28.33 Setting up libnsl2:amd64 (1.3.0-2) ...
#11 28.35 Setting up libpython3.11-stdlib:amd64 (3.11.2-6+deb12u6) ...
#11 28.38 Setting up gcc (4:12.2.0-3) ...
#11 28.41 Setting up dpkg-dev (1.21.22) ...
#11 28.45 Setting up libnsl-dev:amd64 (1.3.0-2) ...
#11 28.47 Setting up libc6-dev:amd64 (2.36-9+deb12u13) ...
#11 28.49 Setting up libpython3-stdlib:amd64 (3.11.2-1+b1) ...
#11 28.51 Setting up python3.11 (3.11.2-6+deb12u6) ...
#11 29.06 Setting up libstdc++-12-dev:amd64 (12.2.0-14+deb12u1) ...
#11 29.08 Setting up python3 (3.11.2-1+b1) ...
#11 29.09 running python rtupdate hooks for python3.11...
#11 29.09 running python post-rtupdate hooks for python3.11...
#11 29.17 Setting up python3-six (1.16.0-4) ...
#11 29.28 Setting up python-is-python3 (3.11.2-1+deb12u1) ...
#11 29.30 Setting up g++-12 (12.2.0-14+deb12u1) ...
#11 29.32 Setting up python3-pkg-resources (66.1.1-1+deb12u2) ...
#11 29.53 Setting up g++ (4:12.2.0-3) ...
#11 29.55 update-alternatives: using /usr/bin/g++ to provide /usr/bin/c++ (c++) in auto mode
#11 29.56 Setting up build-essential (12.9) ...
#11 29.57 Setting up gyp (0.1+20220404git9ecf45e-2) ...
#11 29.82 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#11 29.84 Setting up libnode108:amd64 (18.20.4+dfsg-1~deb12u1) ...
#11 29.86 Setting up nodejs (18.20.4+dfsg-1~deb12u1) ...
#11 29.87 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#11 29.87 update-alternatives: warning: skip creation of /usr/share/man/man1/js.1.gz because associated file /usr/share/man/man1/nodejs.1.gz (of link group js) doesn't exist
#11 29.88 Setting up node-strip-ansi (6.0.1-2) ...
#11 29.90 Setting up node-which (2.0.2+~cs1.3.2-3) ...
#11 29.92 Setting up node-mkdirp (1.0.4+~1.0.2-4) ...
#11 29.94 Setting up node-nopt (5.0.0-4) ...
#11 29.96 Setting up node-ms (2.1.3+~cs0.7.31-3) ...
#11 29.99 Setting up node-rimraf (3.0.2-2) ...
#11 30.01 Setting up node-string-width (4.2.3+~cs13.2.3-1) ...
#11 30.02 Setting up node-semver (7.3.5+~7.3.9-2) ...
#11 30.04 Setting up libnode-dev (18.20.4+dfsg-1~deb12u1) ...
#11 30.06 Setting up node-debug (4.3.4+~cs4.1.7-1) ...
#11 30.08 Setting up node-agent-base (6.0.2+~cs5.4.2-2) ...
#11 30.10 Setting up node-tar (6.1.13+~cs7.0.5-1) ...
#11 30.13 Setting up node-wide-align (1.1.3-4) ...
#11 30.15 Setting up node-https-proxy-agent (5.0.1+~cs8.0.0-3) ...
#11 30.16 Setting up node-gauge (4.0.4-1) ...
#11 30.18 Setting up node-npmlog (7.0.1+~4.1.4-1) ...
#11 30.20 Setting up node-gyp (9.3.0-2) ...
#11 30.22 Processing triggers for libc-bin (2.36-9+deb12u13) ...
#11 DONE 35.2s
#12 [build 2/6] COPY package-lock.json package.json ./
#12 DONE 0.1s
#13 [build 3/6] RUN npm ci --include=dev
#13 7.606 
#13 7.606 added 566 packages, and audited 567 packages in 7s
#13 7.606 
#13 7.606 69 packages are looking for funding
#13 7.606   run `npm fund` for details
#13 7.615 
#13 7.615 3 high severity vulnerabilities
#13 7.615 
#13 7.615 To address all issues, run:
#13 7.615   npm audit fix
#13 7.615 
#13 7.615 Run `npm audit` for details.
#13 7.616 npm notice
#13 7.616 npm notice New major version of npm available! 10.9.4 -> 11.7.0
#13 7.616 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0
#13 7.616 npm notice To update run: npm install -g npm@11.7.0
#13 7.616 npm notice
#13 DONE 10.6s
#14 [build 4/6] COPY . .
#14 DONE 0.5s
#15 [build 5/6] RUN npm run build
#15 0.151 
#15 0.151 > rest-express@1.0.0 build
#15 0.151 > node --import tsx script/build.ts
#15 0.151 
#15 0.805 building client...
#15 0.863 vite v7.3.0 building client environment for production...
#15 1.308 transforming...
#15 5.224  2499 modules transformed.
#15 5.562 rendering chunks...
#15 5.570 computing gzip size...
#15 5.601 ../dist/public/index.html                   2.01 kB  gzip:   0.77 kB
#15 5.601 ../dist/public/assets/index-GKHLRJK0.css   74.70 kB  gzip:  12.17 kB
#15 5.601 ../dist/public/assets/index-CWWyTa6t.js   670.28 kB  gzip: 206.85 kB
#15 5.602 
#15 5.602 (!) Some chunks are larger than 500 kB after minification. Consider:
#15 5.602 - Using dynamic import() to code-split the application
#15 5.602 - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#15 5.602 - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#15 5.602  built in 4.58s
#15 5.602 building server...
#15 5.858 
#15 5.858   dist/index.cjs  1.3mb 
#15 5.858 
#15 5.858  Done in 237ms
#15 DONE 6.0s
#16 [build 6/6] RUN npm prune --omit=dev
#16 1.604 
#16 1.604 up to date, audited 464 packages in 1s
#16 1.604 
#16 1.604 56 packages are looking for funding
#16 1.604   run `npm fund` for details
#16 1.613 
#16 1.613 3 high severity vulnerabilities
#16 1.613 
#16 1.613 To address all issues, run:
#16 1.613   npm audit fix
#16 1.613 
#16 1.613 Run `npm audit` for details.
#16 DONE 1.7s
#17 [stage-2 1/1] COPY --from=build /app /app
#17 DONE 18.3s
#18 exporting to docker image format
#18 exporting layers
#18 exporting layers 9.6s done
#18 exporting manifest sha256:12b1e719cb0a8beba58104363ea52b72a7f380f6ecd4e89ca7a4f0fbda2df47e
#18 exporting manifest sha256:12b1e719cb0a8beba58104363ea52b72a7f380f6ecd4e89ca7a4f0fbda2df47e 0.2s done
#18 exporting config sha256:7b2d19cf0f1c3b31be8f4bc5291ee1718ab856a982b0171bff2ca6bc10fc2163
#18 exporting config sha256:7b2d19cf0f1c3b31be8f4bc5291ee1718ab856a982b0171bff2ca6bc10fc2163 0.3s done
#18 DONE 10.9s
#19 exporting cache to client directory
#19 preparing build cache for export
#19 writing cache image manifest sha256:4b68dd6233cc18226d1c6d044e837cbd6ddc2f8a6507d7f675c51933a5679674
#19 writing cache image manifest sha256:4b68dd6233cc18226d1c6d044e837cbd6ddc2f8a6507d7f675c51933a5679674 0.6s done
#19 DONE 46.6s
Pushing image to registry...
Upload succeeded
==> Setting WEB_CONCURRENCY=1 by default, based on available CPUs in the instance
==> Deploying...
> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.cjs
/app/dist/index.cjs:136
==> Exited with status 1
==> Common ways to troubleshoot your deploy: https://render.com/docs/troubleshooting-deploys
> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.cjs
/app/dist/index.cjs:136
		`;await i.execute(x`CREATE SCHEMA IF NOT EXISTS ${x.identifier(a)}`),await i.execute(s);let c=(await i.all(x`select id, hash, created_at from ${x.identifier(a)}.${x.identifier(r)} order by created_at desc limit 1`))[0];await i.transaction(async l=>{for await(let p of e)if(!c||Number(c.created_at)<p.folderMillis){for(let u of p.sql)await l.execute(x.raw(u));await l.execute(x`insert into ${x.identifier(a)}.${x.identifier(r)} ("hash", "created_at") values(${p.hash}, ${p.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let i=[x`with `];for(let[n,r]of e.entries())i.push(x`${x.identifier(r._.alias)} as (${r._.sql})`),n<e.length-1&&i.push(x`, `);return i.push(x` `),x.join(i)}buildDeleteQuery({table:e,where:i,returning:n,withList:r}){let a=this.buildWithCTE(r),s=n?x` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,o=i?x` where ${i}`:void 0;return x`${a}delete from ${e}${o}${s}`}buildUpdateSet(e,i){let n=e[A.Symbol.Columns],r=Object.keys(n).filter(s=>i[s]!==void 0||n[s]?.onUpdateFn!==void 0),a=r.length;return x.join(r.flatMap((s,o)=>{let c=n[s],l=i[s]??x.param(c.onUpdateFn(),c),p=x`${x.identifier(this.casing.getColumnCasing(c))} = ${l}`;return o<a-1?[p,x.raw(", ")]:[p]}))}buildUpdateQuery({table:e,set:i,where:n,returning:r,withList:a,from:s,joins:o}){let c=this.buildWithCTE(a),l=e[ze.Symbol.Name],p=e[ze.Symbol.Schema],u=e[ze.Symbol.OriginalName],d=l===u?void 0:l,f=x`${p?x`${x.identifier(p)}.`:void 0}${x.identifier(u)}${d&&x` ${x.identifier(d)}`}`,m=this.buildUpdateSet(e,i),h=s&&x.join([x.raw(" from "),this.buildFromTable(s)]),y=this.buildJoins(o),w=r?x` returning ${this.buildSelection(r,{isSingleTable:!s})}`:void 0,E=n?x` where ${n}`:void 0;return x`${c}update ${f} set ${m}${h}${y}${E}${w}`}buildSelection(e,{isSingleTable:i=!1}={}){let n=e.length,r=e.flatMap(({field:a},s)=>{let o=[];if(b(a,N.Aliased)&&a.isSelectionField)o.push(x.identifier(a.fieldAlias));else if(b(a,N.Aliased)||b(a,N)){let c=b(a,N.Aliased)?a.sql:a;i?o.push(new N(c.queryChunks.map(l=>b(l,k)?x.identifier(this.casing.getColumnCasing(l)):l))):o.push(c),b(a,N.Aliased)&&o.push(x` as ${x.identifier(a.fieldAlias)}`)}else b(a,K)&&(i?o.push(x.identifier(this.casing.getColumnCasing(a))):o.push(a));return s<n-1&&o.push(x`, `),o});return x.join(r)}buildJoins(e){if(!e||e.length===0)return;let i=[];for(let[n,r]of e.entries()){n===0&&i.push(x` `);let a=r.table,s=r.lateral?x` lateral`:void 0;if(b(a,ze)){let o=a[ze.Symbol.Name],c=a[ze.Symbol.Schema],l=a[ze.Symbol.OriginalName],p=o===l?void 0:r.alias;i.push(x`${x.raw(r.joinType)} join${s} ${c?x`${x.identifier(c)}.`:void 0}${x.identifier(l)}${p&&x` ${x.identifier(p)}`} on ${r.on}`)}else if(b(a,it)){let o=a[oe].name,c=a[oe].schema,l=a[oe].originalName,p=o===l?void 0:r.alias;i.push(x`${x.raw(r.joinType)} join${s} ${c?x`${x.identifier(c)}.`:void 0}${x.identifier(l)}${p&&x` ${x.identifier(p)}`} on ${r.on}`)}else i.push(x`${x.raw(r.joinType)} join${s} ${a} on ${r.on}`);n<e.length-1&&i.push(x` `)}return x.join(i)}buildFromTable(e){if(b(e,A)&&e[A.Symbol.OriginalName]!==e[A.Symbol.Name]){let i=x`${x.identifier(e[A.Symbol.OriginalName])}`;return e[A.Symbol.Schema]&&(i=x`${x.identifier(e[A.Symbol.Schema])}.${i}`),x`${i} ${x.identifier(e[A.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:i,fieldsFlat:n,where:r,having:a,table:s,joins:o,orderBy:c,groupBy:l,limit:p,offset:u,lockingClause:d,distinct:f,setOperators:m}){let h=n??It(i);for(let pe of h)if(b(pe.field,K)&&ft(pe.field.table)!==(b(s,Ae)?s._.alias:b(s,Qr)?s[oe].name:b(s,N)?void 0:ft(s))&&!(be=>o?.some(({alias:xt})=>xt===(be[A.Symbol.IsAlias]?ft(be):be[A.Symbol.BaseName])))(pe.field.table)){let be=ft(pe.field.table);throw new Error(`Your "${pe.path.join("->")}" field references a column "${be}"."${pe.field.name}", but the table "${be}" is not part of the query! Did you forget to join it?`)}let y=!o||o.length===0,w=this.buildWithCTE(e),E;f&&(E=f===!0?x` distinct`:x` distinct on (${x.join(f.on,x`, `)})`);let _=this.buildSelection(h,{isSingleTable:y}),T=this.buildFromTable(s),L=this.buildJoins(o),R=r?x` where ${r}`:void 0,P=a?x` having ${a}`:void 0,q;c&&c.length>0&&(q=x` order by ${x.join(c,x`, `)}`);let H;l&&l.length>0&&(H=x` group by ${x.join(l,x`, `)}`);let Te=typeof p=="object"||typeof p=="number"&&p>=0?x` limit ${p}`:void 0,st=u?x` offset ${u}`:void 0,$e=x.empty();if(d){let pe=x` for ${x.raw(d.strength)}`;d.config.of&&pe.append(x` of ${x.join(Array.isArray(d.config.of)?d.config.of:[d.config.of],x`, `)}`),d.config.noWait?pe.append(x` no wait`):d.config.skipLocked&&pe.append(x` skip locked`),$e.append(pe)}let ye=x`${w}select${E} ${_} from ${T}${L}${R}${H}${P}${q}${Te}${st}${$e}`;return m.length>0?this.buildSetOperations(ye,m):ye}buildSetOperations(e,i){let[n,...r]=i;if(!n)throw new Error("Cannot pass undefined values to any set operator");return r.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:n}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:n}),r)}buildSetOperationQuery({leftSelect:e,setOperator:{type:i,isAll:n,rightSelect:r,limit:a,orderBy:s,offset:o}}){let c=x`(${e.getSQL()}) `,l=x`(${r.getSQL()})`,p;if(s&&s.length>0){let m=[];for(let h of s)if(b(h,k))m.push(x.identifier(h.name));else if(b(h,N)){for(let y=0;y<h.queryChunks.length;y++){let w=h.queryChunks[y];b(w,k)&&(h.queryChunks[y]=x.identifier(w.name))}m.push(x`${h}`)}else m.push(x`${h}`);p=x` order by ${x.join(m,x`, `)} `}let u=typeof a=="object"||typeof a=="number"&&a>=0?x` limit ${a}`:void 0,d=x.raw(`${i} ${n?"all ":""}`),f=o?x` offset ${o}`:void 0;return x`${c}${d}${l}${p}${u}${f}`}buildInsertQuery({table:e,values:i,onConflict:n,returning:r,withList:a,select:s,overridingSystemValue_:o}){let c=[],l=e[A.Symbol.Columns],p=Object.entries(l).filter(([w,E])=>!E.shouldDisableInsert()),u=p.map(([,w])=>x.identifier(this.casing.getColumnCasing(w)));if(s){let w=i;b(w,N)?c.push(w):c.push(w.getSQL())}else{let w=i;c.push(x.raw("values "));for(let[E,_]of w.entries()){let T=[];for(let[L,R]of p){let P=_[L];if(P===void 0||b(P,mt)&&P.value===void 0)if(R.defaultFn!==void 0){let q=R.defaultFn(),H=b(q,N)?q:x.param(q,R);T.push(H)}else if(!R.default&&R.onUpdateFn!==void 0){let q=R.onUpdateFn(),H=b(q,N)?q:x.param(q,R);T.push(H)}else T.push(x`default`);else T.push(P)}c.push(T),E<w.length-1&&c.push(x`, `)}}let d=this.buildWithCTE(a),f=x.join(c),m=r?x` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,h=n?x` on conflict ${n}`:void 0,y=o===!0?x`overriding system value `:void 0;return x`${d}insert into ${e} ${u} ${y}${f}${h}${m}`}buildRefreshMaterializedViewQuery({view:e,concurrently:i,withNoData:n}){let r=i?x` concurrently`:void 0,a=n?x` with no data`:void 0;return x`refresh materialized view${r} ${e}${a}`}prepareTyping(e){return b(e,Ms)||b(e,Rs)?"json":b(e,Ls)?"decimal":b(e,Ds)?"time":b(e,Bs)||b(e,zs)?"timestamp":b(e,qs)||b(e,js)?"date":b(e,Fs)?"uuid":"none"}sqlToQuery(e,i){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:i})}buildRelationalQueryWithoutPK({fullSchema:e,schema:i,tableNamesMap:n,table:r,tableConfig:a,queryConfig:s,tableAlias:o,nestedQueryRelation:c,joinOn:l}){let p=[],u,d,f=[],m,h=[];if(s===!0)p=Object.entries(a.columns).map(([E,_])=>({dbKey:_.name,tsKey:E,field:ei(_,o),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let w=Object.fromEntries(Object.entries(a.columns).map(([P,q])=>[P,ei(q,o)]));if(s.where){let P=typeof s.where=="function"?s.where(w,QT()):s.where;m=P&&As(P,o)}let E=[],_=[];if(s.columns){let P=!1;for(let[q,H]of Object.entries(s.columns))H!==void 0&&q in a.columns&&(!P&&H===!0&&(P=!0),_.push(q));_.length>0&&(_=P?_.filter(q=>s.columns?.[q]===!0):Object.keys(a.columns).filter(q=>!_.includes(q)))}else _=Object.keys(a.columns);for(let P of _){let q=a.columns[P];E.push({tsKey:P,value:q})}let T=[];s.with&&(T=Object.entries(s.with).filter(P=>!!P[1]).map(([P,q])=>({tsKey:P,queryConfig:q,relation:a.relations[P]})));let L;if(s.extras){L=typeof s.extras=="function"?s.extras(w,{sql:x}):s.extras;for(let[P,q]of Object.entries(L))E.push({tsKey:P,value:Xf(q,o)})}for(let{tsKey:P,value:q}of E)p.push({dbKey:b(q,N.Aliased)?q.fieldAlias:a.columns[P].name,tsKey:P,field:b(q,K)?ei(q,o):q,relationTableTsKey:void 0,isJson:!1,selection:[]});let R=typeof s.orderBy=="function"?s.orderBy(w,VT()):s.orderBy??[];Array.isArray(R)||(R=[R]),f=R.map(P=>b(P,K)?ei(P,o):As(P,o)),u=s.limit,d=s.offset;for(let{tsKey:P,queryConfig:q,relation:H}of T){let Te=WT(i,n,H),st=yn(H.referencedTable),$e=n[st],ye=`${o}_${P}`,pe=Us(...Te.fields.map((Xi,da)=>Ne(ei(Te.references[da],ye),ei(Xi,o)))),be=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:i,tableNamesMap:n,table:e[$e],tableConfig:i[$e],queryConfig:b(H,Ui)?q===!0?{limit:1}:{...q,limit:1}:q,tableAlias:ye,joinOn:pe,nestedQueryRelation:H}),xt=x`${x.identifier(ye)}.${x.identifier("data")}`.as(P);h.push({on:x`true`,table:new Ae(be.sql,{},ye),alias:ye,joinType:"left",lateral:!0}),p.push({dbKey:P,tsKey:P,field:xt,relationTableTsKey:$e,isJson:!0,selection:be.selection})}}if(p.length===0)throw new Ns({message:`No fields selected for table "${a.tsName}" ("${o}")`});let y;if(m=Us(l,m),c){let w=x`json_build_array(${x.join(p.map(({field:T,tsKey:L,isJson:R})=>R?x`${x.identifier(`${o}_${L}`)}.${x.identifier("data")}`:b(T,N.Aliased)?T.sql:T),x`, `)})`;b(c,$s)&&(w=x`coalesce(json_agg(${w}${f.length>0?x` order by ${x.join(f,x`, `)}`:void 0}), '[]'::json)`);let E=[{dbKey:"data",tsKey:"data",field:w.as("data"),isJson:!0,relationTableTsKey:a.tsName,selection:p}];u!==void 0||d!==void 0||f.length>0?(y=this.buildSelectQuery({table:Cs(r,o),fields:{},fieldsFlat:[{path:[],field:x.raw("*")}],where:m,limit:u,offset:d,orderBy:f,setOperators:[]}),m=void 0,u=void 0,d=void 0,f=[]):y=Cs(r,o),y=this.buildSelectQuery({table:b(y,ze)?y:new Ae(y,{},o),fields:{},fieldsFlat:E.map(({field:T})=>({path:[],field:b(T,K)?ei(T,o):T})),joins:h,where:m,limit:u,offset:d,orderBy:f,setOperators:[]})}else y=this.buildSelectQuery({table:Cs(r,o),fields:{},fieldsFlat:p.map(({field:w})=>({path:[],field:b(w,K)?ei(w,o):w})),joins:h,where:m,limit:u,offset:d,orderBy:f,setOperators:[]});return{tableTsKey:a.tsName,sql:y,selection:p}}};var dl=class{static[g]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}};var Ge=class{static[g]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let i=!!this.fields,n=e,r;return this.fields?r=this.fields:b(n,Ae)?r=Object.fromEntries(Object.keys(n._.selectedFields).map(a=>[a,n[a]])):b(n,Qr)?r=n[oe].selectedFields:b(n,N)?r={}:r=al(n),new fl({table:n,fields:r,isPartialSelect:i,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}},xh=class extends dl{static[g]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;constructor({table:e,fields:i,isPartialSelect:n,session:r,dialect:a,withList:s,distinct:o}){super(),this.config={withList:s,table:e,fields:{...i},distinct:o,setOperators:[]},this.isPartialSelect=n,this.session=r,this.dialect=a,this._={selectedFields:i},this.tableName=hi(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}createJoin(e){return(i,n)=>{let r=this.tableName,a=hi(i);if(typeof a=="string"&&this.config.joins?.some(s=>s.alias===a))throw new Error(`Alias "${a}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof r=="string"&&(this.config.fields={[r]:this.config.fields}),typeof a=="string"&&!b(i,N))){let s=b(i,Ae)?i._.selectedFields:b(i,it)?i[oe].selectedFields:i[A.Symbol.Columns];this.config.fields[a]=s}if(typeof n=="function"&&(n=n(new Proxy(this.config.fields,new Se({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:n,table:i,joinType:e,alias:a}),typeof a=="string")switch(e){case"left":{this.joinsNotNullableMap[a]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([s])=>[s,!1])),this.joinsNotNullableMap[a]=!0;break}case"inner":{this.joinsNotNullableMap[a]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([s])=>[s,!1])),this.joinsNotNullableMap[a]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");createSetOperator(e,i){return n=>{let r=typeof n=="function"?n(pB()):n;if(!Ps(this.getSelectedFields(),r.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:i,rightSelect:r}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new Se({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new Se({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if(typeof e[0]=="function"){let i=e[0](new Proxy(this.config.fields,new Se({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(i)?i:[i]}else this.config.groupBy=e;return this}orderBy(...e){if(typeof e[0]=="function"){let i=e[0](new Proxy(this.config.fields,new Se({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),n=Array.isArray(i)?i:[i];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}else{let i=e;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=i:this.config.orderBy=i}return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,i={}){return this.config.lockingClause={strength:e,config:i},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...i}=this.dialect.sqlToQuery(this.getSQL());return i}as(e){return new Proxy(new Ae(this.getSQL(),this.config.fields,e),new Se({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new Se({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}},fl=class extends xh{static[g]="PgSelect";_prepare(e){let{session:i,config:n,dialect:r,joinsNotNullableMap:a,authToken:s}=this;if(!i)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");return se.startActiveSpan("drizzle.prepareQuery",()=>{let o=It(n.fields),c=i.prepareQuery(r.sqlToQuery(this.getSQL()),o,e,!0);return c.joinsNotNullableMap=a,c.setToken(s)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>se.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))};Gk(fl,[Ve]);function Vr(t,e){return(i,n,...r)=>{let a=[n,...r].map(s=>({type:t,isAll:e,rightSelect:s}));for(let s of a)if(!Ps(i.getSelectedFields(),s.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return i.addSetOperators(a)}}var pB=()=>({union:uB,unionAll:dB,intersect:fB,intersectAll:mB,except:hB,exceptAll:vB}),uB=Vr("union",!1),dB=Vr("union",!0),fB=Vr("intersect",!1),mB=Vr("intersect",!0),hB=Vr("except",!1),vB=Vr("except",!0);var Gr=class{static[g]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=b(e,$i)?e:void 0,this.dialectConfig=b(e,$i)?void 0:e}$with=(e,i)=>{let n=this;return{as:a=>(typeof a=="function"&&(a=a(n)),new Proxy(new Ur(a.getSQL(),i??("getSelectedFields"in a?a.getSelectedFields()??{}:{}),e,!0),new Se({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let i=this;function n(s){return new Ge({fields:s??void 0,session:void 0,dialect:i.getDialect(),withList:e})}function r(s){return new Ge({fields:s??void 0,session:void 0,dialect:i.getDialect(),distinct:!0})}function a(s,o){return new Ge({fields:o??void 0,session:void 0,dialect:i.getDialect(),distinct:{on:s}})}return{select:n,selectDistinct:r,selectDistinctOn:a}}select(e){return new Ge({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new Ge({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,i){return new Ge({fields:i??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new $i(this.dialectConfig)),this.dialect}};var Hs=class{constructor(e,i,n,r,a){this.table=e,this.session=i,this.dialect=n,this.withList=r,this.overridingSystemValue_=a}static[g]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");let i=e.map(n=>{let r={},a=this.table[A.Symbol.Columns];for(let s of Object.keys(n)){let o=n[s];r[s]=b(o,N)?o:new mt(o,a[s])}return r});return new ml(this.table,i,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let i=typeof e=="function"?e(new Gr):e;if(!b(i,N)&&!Ps(this.table[nl],i._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new ml(this.table,i,this.session,this.dialect,this.withList,!0)}},ml=class extends Ve{constructor(e,i,n,r,a,s,o){super(),this.session=n,this.dialect=r,this.config={table:e,values:i,withList:a,select:s,overridingSystemValue_:o}}static[g]="PgInsert";config;returning(e=this.config.table[A.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=It(e),this}onConflictDoNothing(e={}){if(e.target===void 0)this.config.onConflict=x`do nothing`;else{let i="";i=Array.isArray(e.target)?e.target.map(r=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(r))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let n=e.where?x` where ${e.where}`:void 0;this.config.onConflict=x`(${x.raw(i)})${n} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let i=e.where?x` where ${e.where}`:void 0,n=e.targetWhere?x` where ${e.targetWhere}`:void 0,r=e.setWhere?x` where ${e.setWhere}`:void 0,a=this.dialect.buildUpdateSet(this.config.table,rl(this.config.table,e.set)),s="";return s=Array.isArray(e.target)?e.target.map(o=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(o))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=x`(${x.raw(s)})${n} do update set ${a}${i}${r}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...i}=this.dialect.sqlToQuery(this.getSQL());return i}_prepare(e){return se.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>se.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Se({alias:ft(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}};var hl=class extends Ve{constructor(e,i,n){super(),this.session=i,this.dialect=n,this.config={view:e}}static[g]="PgRefreshMaterializedView";config;concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...i}=this.dialect.sqlToQuery(this.getSQL());return i}_prepare(e){return se.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>se.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))};var Qs=class{constructor(e,i,n,r){this.table=e,this.session=i,this.dialect=n,this.withList=r}static[g]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new yh(this.table,rl(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}},yh=class extends Ve{constructor(e,i,n,r,a){super(),this.session=n,this.dialect=r,this.config={set:i,table:e,withList:a,joins:[]},this.tableName=hi(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}static[g]="PgUpdate";config;tableName;joinsNotNullableMap;from(e){let i=e,n=hi(i);return typeof n=="string"&&(this.joinsNotNullableMap[n]=!0),this.config.from=i,this}getTableLikeFields(e){return b(e,ze)?e[A.Symbol.Columns]:b(e,Ae)?e._.selectedFields:e[oe].selectedFields}createJoin(e){return(i,n)=>{let r=hi(i);if(typeof r=="string"&&this.config.joins.some(a=>a.alias===r))throw new Error(`Alias "${r}" is already used in this query`);if(typeof n=="function"){let a=this.config.from&&!b(this.config.from,N)?this.getTableLikeFields(this.config.from):void 0;n=n(new Proxy(this.config.table[A.Symbol.Columns],new Se({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),a&&new Proxy(a,new Se({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:n,table:i,joinType:e,alias:r}),typeof r=="string")switch(e){case"left":{this.joinsNotNullableMap[r]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[r]=!0;break}case"inner":{this.joinsNotNullableMap[r]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[r]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[A.Symbol.Columns]),this.config.from)){let i=hi(this.config.from);if(typeof i=="string"&&this.config.from&&!b(this.config.from,N)){let n=this.getTableLikeFields(this.config.from);e[i]=n}for(let n of this.config.joins){let r=hi(n.table);if(typeof r=="string"&&!b(n.table,N)){let a=this.getTableLikeFields(n.table);e[r]=a}}}return this.config.returningFields=e,this.config.returning=It(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...i}=this.dialect.sqlToQuery(this.getSQL());return i}_prepare(e){let i=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0);return i.joinsNotNullableMap=this.joinsNotNullableMap,i}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Se({alias:ft(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}};var vl=class t extends N{constructor(e){super(t.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=t.buildCount(e.source,e.filters)}sql;token;static[g]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,i){return x`(select count(*) from ${e}${x.raw(" where ").if(i)}${i})`}static buildCount(e,i){return x`select count(*) as count from ${e}${x.raw(" where ").if(i)}${i};`}setToken(e){return this.token=e,this}then(e,i){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,i)}catch(e){return this.then(void 0,e)}finally(e){return this.then(i=>(e?.(),i),i=>{throw e?.(),i})}};var gl=class{constructor(e,i,n,r,a,s,o){this.fullSchema=e,this.schema=i,this.tableNamesMap=n,this.table=r,this.tableConfig=a,this.dialect=s,this.session=o}static[g]="PgRelationalQueryBuilder";findMany(e){return new xl(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new xl(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}},xl=class extends Ve{constructor(e,i,n,r,a,s,o,c,l){super(),this.fullSchema=e,this.schema=i,this.tableNamesMap=n,this.table=r,this.tableConfig=a,this.dialect=s,this.session=o,this.config=c,this.mode=l}static[g]="PgRelationalQuery";_prepare(e){return se.startActiveSpan("drizzle.prepareQuery",()=>{let{query:i,builtQuery:n}=this._toSQL();return this.session.prepareQuery(n,void 0,e,!0,(r,a)=>{let s=r.map(o=>ul(this.schema,this.tableConfig,o,i.selection,a));return this.mode==="first"?s[0]:s})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),i=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:i}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return se.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}};var yl=class extends Ve{constructor(e,i,n,r){super(),this.execute=e,this.sql=i,this.query=n,this.mapBatchResult=r}static[g]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,i){return i?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}};var Wr=class{constructor(e,i,n){if(this.dialect=e,this.session=i,this._=n?{schema:n.schema,fullSchema:n.fullSchema,tableNamesMap:n.tableNamesMap,session:i}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:i},this.query={},this._.schema)for(let[r,a]of Object.entries(this._.schema))this.query[r]=new gl(n.fullSchema,this._.schema,this._.tableNamesMap,n.fullSchema[r],a,e,i)}static[g]="PgDatabase";query;$with=(e,i)=>{let n=this;return{as:a=>(typeof a=="function"&&(a=a(new Gr(n.dialect))),new Proxy(new Ur(a.getSQL(),i??("getSelectedFields"in a?a.getSelectedFields()??{}:{}),e,!0),new Se({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,i){return new vl({source:e,filters:i,session:this.session})}with(...e){let i=this;function n(l){return new Ge({fields:l??void 0,session:i.session,dialect:i.dialect,withList:e})}function r(l){return new Ge({fields:l??void 0,session:i.session,dialect:i.dialect,withList:e,distinct:!0})}function a(l,p){return new Ge({fields:p??void 0,session:i.session,dialect:i.dialect,withList:e,distinct:{on:l}})}function s(l){return new Qs(l,i.session,i.dialect,e)}function o(l){return new Hs(l,i.session,i.dialect,e)}function c(l){return new Os(l,i.session,i.dialect,e)}return{select:n,selectDistinct:r,selectDistinctOn:a,update:s,insert:o,delete:c}}select(e){return new Ge({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new Ge({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,i){return new Ge({fields:i??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new Qs(e,this.session,this.dialect)}insert(e){return new Hs(e,this.session,this.dialect)}delete(e){return new Os(e,this.session,this.dialect)}refreshMaterializedView(e){return new hl(e,this.session,this.dialect)}authToken;execute(e){let i=typeof e=="string"?x.raw(e):e.getSQL(),n=this.dialect.sqlToQuery(i),r=this.session.prepareQuery(n,void 0,void 0,!1);return new yl(()=>r.execute(void 0,this.authToken),i,n,a=>r.mapResult(a,!0))}transaction(e,i){return this.session.transaction(e,i)}};var bl=class{constructor(e){this.query=e}authToken;getQuery(){return this.query}mapResult(e,i){return e}setToken(e){return this.authToken=e,this}static[g]="PgPreparedQuery";joinsNotNullableMap},wl=class{constructor(e){this.dialect=e}static[g]="PgSession";execute(e,i){return se.startActiveSpan("drizzle.operation",()=>se.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(i).execute(void 0,i))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,i){let n=await this.execute(e,i);return Number(n[0].count)}},_l=class extends Wr{constructor(e,i,n,r=0){super(e,i,n),this.schema=n,this.nestedIndex=r}static[g]="PgTransaction";rollback(){throw new ol}getTransactionConfigSQL(e){let i=[];return e.isolationLevel&&i.push(`isolation level ${e.isolationLevel}`),e.accessMode&&i.push(e.accessMode),typeof e.deferrable=="boolean"&&i.push(e.deferrable?"deferrable":"not deferrable"),x.raw(i.join(" "))}setTransaction(e){return this.session.execute(x`set transaction ${this.getTransactionConfigSQL(e)}`)}};var{Pool:ZT,types:ni}=zi,bh=class extends bl{constructor(e,i,n,r,a,s,o,c){super({sql:i,params:n}),this.client=e,this.params=n,this.logger=r,this.fields=a,this._isResponseInArrayMode=o,this.customResultMapper=c,this.rawQueryConfig={name:s,text:i,types:{getTypeParser:(l,p)=>l===ni.builtins.TIMESTAMPTZ?u=>u:l===ni.builtins.TIMESTAMP?u=>u:l===ni.builtins.DATE?u=>u:l===ni.builtins.INTERVAL?u=>u:ni.getTypeParser(l,p)}},this.queryConfig={name:s,text:i,rowMode:"array",types:{getTypeParser:(l,p)=>l===ni.builtins.TIMESTAMPTZ?u=>u:l===ni.builtins.TIMESTAMP?u=>u:l===ni.builtins.DATE?u=>u:l===ni.builtins.INTERVAL?u=>u:ni.getTypeParser(l,p)}}}static[g]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){return se.startActiveSpan("drizzle.execute",async()=>{let i=Zf(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,i);let{fields:n,rawQueryConfig:r,client:a,queryConfig:s,joinsNotNullableMap:o,customResultMapper:c}=this;if(!n&&!c)return se.startActiveSpan("drizzle.driver.execute",async p=>(p?.setAttributes({"drizzle.query.name":r.name,"drizzle.query.text":r.text,"drizzle.query.params":JSON.stringify(i)}),a.query(r,i)));let l=await se.startActiveSpan("drizzle.driver.execute",p=>(p?.setAttributes({"drizzle.query.name":s.name,"drizzle.query.text":s.text,"drizzle.query.params":JSON.stringify(i)}),a.query(s,i)));return se.startActiveSpan("drizzle.mapResponse",()=>c?c(l.rows):l.rows.map(p=>Vk(n,p,o)))})}all(e={}){return se.startActiveSpan("drizzle.execute",()=>{let i=Zf(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,i),se.startActiveSpan("drizzle.driver.execute",n=>(n?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(i)}),this.client.query(this.rawQueryConfig,i).then(r=>r.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}},Sl=class t extends wl{constructor(e,i,n,r={}){super(i),this.client=e,this.schema=n,this.options=r,this.logger=r.logger??new Jc}static[g]="NodePgSession";logger;prepareQuery(e,i,n,r,a){return new bh(this.client,e.sql,e.params,this.logger,i,n,r,a)}async transaction(e,i){let n=this.client instanceof ZT?new t(await this.client.connect(),this.dialect,this.schema,this.options):this,r=new wh(this.dialect,n,this.schema);await r.execute(x`begin${i?x` ${r.getTransactionConfigSQL(i)}`:void 0}`);try{let a=await e(r);return await r.execute(x`commit`),a}catch(a){throw await r.execute(x`rollback`),a}finally{this.client instanceof ZT&&n.client.release()}}async count(e){let i=await this.execute(e);return Number(i.rows[0].count)}},wh=class t extends _l{static[g]="NodePgTransaction";async transaction(e){let i=`sp${this.nestedIndex+1}`,n=new t(this.dialect,this.session,this.schema,this.nestedIndex+1);await n.execute(x.raw(`savepoint ${i}`));try{let r=await e(n);return await n.execute(x.raw(`release savepoint ${i}`)),r}catch(r){throw await n.execute(x.raw(`rollback to savepoint ${i}`)),r}}};var _h=class{constructor(e,i,n={}){this.client=e,this.dialect=i,this.options=n}static[g]="NodePgDriver";createSession(e){return new Sl(this.client,this.dialect,e,{logger:this.options.logger})}},Sh=class extends Wr{static[g]="NodePgDatabase"};function Vs(t,e={}){let i=new $i({casing:e.casing}),n;e.logger===!0?n=new Xc:e.logger!==!1&&(n=e.logger);let r;if(e.schema){let c=GT(e.schema,KT);r={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}let s=new _h(t,i,{logger:n}).createSession(r),o=new Sh(i,s,r);return o.$client=t,o}function El(...t){if(typeof t[0]=="string"){let e=new zi.Pool({connectionString:t[0]});return Vs(e,t[1])}if(Kk(t[0])){let{connection:e,client:i,...n}=t[0];if(i)return Vs(i,n);let r=typeof e=="string"?new zi.Pool({connectionString:e}):new zi.Pool(e);return Vs(r,n)}return Vs(t[0],t[1])}(t=>{function e(i){return Vs({},i)}t.mock=e})(El||(El={}));var Oh={};lg(Oh,{contracts:()=>xe,contractsRelations:()=>Rz,insertContractSchema:()=>Lz,insertMachineSchema:()=>Mz,insertTransactionSchema:()=>Dz,insertUserSchema:()=>Ph,machines:()=>Et,session:()=>qz,transactions:()=>rt,users:()=>ie,usersRelations:()=>jz});var G;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function i(r){throw new Error}t.assertNever=i,t.arrayToEnum=r=>{let a={};for(let s of r)a[s]=s;return a},t.getValidEnumValues=r=>{let a=t.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),s={};for(let o of a)s[o]=r[o];return t.objectValues(s)},t.objectValues=r=>t.objectKeys(r).map(function(a){return r[a]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{let a=[];for(let s in r)Object.prototype.hasOwnProperty.call(r,s)&&a.push(s);return a},t.find=(r,a)=>{for(let s of r)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function n(r,a=" | "){return r.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(r,a)=>typeof a=="bigint"?a.toString():a})(G||(G={}));var kh;(function(t){t.mergeShapes=(e,i)=>({...e,...i})})(kh||(kh={}));var O=G.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xi=t=>{switch(typeof t){case"undefined":return O.undefined;case"string":return O.string;case"number":return isNaN(t)?O.nan:O.number;case"boolean":return O.boolean;case"function":return O.function;case"bigint":return O.bigint;case"symbol":return O.symbol;case"object":return Array.isArray(t)?O.array:t===null?O.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?O.promise:typeof Map<"u"&&t instanceof Map?O.map:typeof Set<"u"&&t instanceof Set?O.set:typeof Date<"u"&&t instanceof Date?O.date:O.object;default:return O.unknown}},S=G.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),gB=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),_t=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=e}format(e){let i=e||function(a){return a.message},n={_errors:[]},r=a=>{for(let s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(r);else if(s.code==="invalid_return_type")r(s.returnTypeError);else if(s.code==="invalid_arguments")r(s.argumentsError);else if(s.path.length===0)n._errors.push(i(s));else{let o=n,c=0;for(;c<s.path.length;){let l=s.path[c];c===s.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(i(s))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return r(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,G.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=i=>i.message){let i={},n=[];for(let r of this.issues)r.path.length>0?(i[r.path[0]]=i[r.path[0]]||[],i[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:i}}get formErrors(){return this.flatten()}};_t.create=t=>new _t(t);var Xr=(t,e)=>{let i;switch(t.code){case S.invalid_type:t.received===O.undefined?i="Required":i=`Expected ${t.expected}, received ${t.received}`;break;case S.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(t.expected,G.jsonStringifyReplacer)}`;break;case S.unrecognized_keys:i=`Unrecognized key(s) in object: ${G.joinValues(t.keys,", ")}`;break;case S.invalid_union:i="Invalid input";break;case S.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${G.joinValues(t.options)}`;break;case S.invalid_enum_value:i=`Invalid enum value. Expected ${G.joinValues(t.options)}, received '${t.received}'`;break;case S.invalid_arguments:i="Invalid function arguments";break;case S.invalid_return_type:i="Invalid function return type";break;case S.invalid_date:i="Invalid date";break;case S.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(i=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(i=`${i} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?i=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?i=`Invalid input: must end with "${t.validation.endsWith}"`:G.assertNever(t.validation):t.validation!=="regex"?i=`Invalid ${t.validation}`:i="Invalid";break;case S.too_small:t.type==="array"?i=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?i=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?i=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?i=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:i="Invalid input";break;case S.too_big:t.type==="array"?i=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?i=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?i=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?i=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?i=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:i="Invalid input";break;case S.custom:i="Invalid input";break;case S.invalid_intersection_types:i="Intersection results could not be merged";break;case S.not_multiple_of:i=`Number must be a multiple of ${t.multipleOf}`;break;case S.not_finite:i="Number must be finite";break;default:i=e.defaultError,G.assertNever(t)}return{message:i}},e2=Xr;function xB(t){e2=t}function kl(){return e2}var Tl=t=>{let{data:e,path:i,errorMaps:n,issueData:r}=t,a=[...i,...r.path||[]],s={...r,path:a};if(r.message!==void 0)return{...r,path:a,message:r.message};let o="",c=n.filter(l=>!!l).slice().reverse();for(let l of c)o=l(s,{data:e,defaultError:o}).message;return{...r,path:a,message:o}},yB=[];function C(t,e){let i=kl(),n=Tl({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,i,i===Xr?void 0:Xr].filter(r=>!!r)});t.common.issues.push(n)}var We=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,i){let n=[];for(let r of i){if(r.status==="aborted")return B;r.status==="dirty"&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,i){let n=[];for(let r of i){let a=await r.key,s=await r.value;n.push({key:a,value:s})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,i){let n={};for(let r of i){let{key:a,value:s}=r;if(a.status==="aborted"||s.status==="aborted")return B;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||r.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}},B=Object.freeze({status:"aborted"}),Zr=t=>({status:"dirty",value:t}),nt=t=>({status:"valid",value:t}),Th=t=>t.status==="aborted",Ch=t=>t.status==="dirty",Sn=t=>t.status==="valid",Ks=t=>typeof Promise<"u"&&t instanceof Promise;function Cl(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)}function t2(t,e,i,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}var j;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(j||(j={}));var Gs,Ws,jt=class{constructor(e,i,n,r){this._cachedPath=[],this.parent=e,this.data=i,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},XT=(t,e)=>{if(Sn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let i=new _t(t.common.issues);return this._error=i,this._error}}};function U(t){if(!t)return{};let{errorMap:e,invalid_type_error:i,required_error:n,description:r}=t;if(e&&(i||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(s,o)=>{var c,l;let{message:p}=t;return s.code==="invalid_enum_value"?{message:p??o.defaultError}:typeof o.data>"u"?{message:(c=p??n)!==null&&c!==void 0?c:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(l=p??i)!==null&&l!==void 0?l:o.defaultError}},description:r}}var $=class{get description(){return this._def.description}_getType(e){return xi(e.data)}_getOrReturnCtx(e,i){return i||{common:e.parent.common,data:e.data,parsedType:xi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new We,ctx:{common:e.parent.common,data:e.data,parsedType:xi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let i=this._parse(e);if(Ks(i))throw new Error("Synchronous parse encountered promise.");return i}_parseAsync(e){let i=this._parse(e);return Promise.resolve(i)}parse(e,i){let n=this.safeParse(e,i);if(n.success)return n.data;throw n.error}safeParse(e,i){var n;let r={common:{issues:[],async:(n=i?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:i?.errorMap},path:i?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)},a=this._parseSync({data:e,path:r.path,parent:r});return XT(r,a)}"~validate"(e){var i,n;let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)};if(!this["~standard"].async)try{let a=this._parseSync({data:e,path:[],parent:r});return Sn(a)?{value:a.value}:{issues:r.common.issues}}catch(a){!((n=(i=a?.message)===null||i===void 0?void 0:i.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>Sn(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,i){let n=await this.safeParseAsync(e,i);if(n.success)return n.data;throw n.error}async safeParseAsync(e,i){let n={common:{issues:[],contextualErrorMap:i?.errorMap,async:!0},path:i?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(Ks(r)?r:Promise.resolve(r));return XT(n,a)}refine(e,i){let n=r=>typeof i=="string"||typeof i>"u"?{message:i}:typeof i=="function"?i(r):i;return this._refinement((r,a)=>{let s=e(r),o=()=>a.addIssue({code:S.custom,...n(r)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,i){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof i=="function"?i(n,r):i),!1))}_refinement(e){return new St({schema:this,typeName:D.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:i=>this["~validate"](i)}}optional(){return qt.create(this,this._def)}nullable(){return ai.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bi.create(this)}promise(){return Vi.create(this,this._def)}or(e){return On.create([this,e],this._def)}and(e){return Nn.create(this,e,this._def)}transform(e){return new St({...U(this._def),schema:this,typeName:D.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let i=typeof e=="function"?e:()=>e;return new Mn({...U(this._def),innerType:this,defaultValue:i,typeName:D.ZodDefault})}brand(){return new Zs({typeName:D.ZodBranded,type:this,...U(this._def)})}catch(e){let i=typeof e=="function"?e:()=>e;return new Ln({...U(this._def),innerType:this,catchValue:i,typeName:D.ZodCatch})}describe(e){let i=this.constructor;return new i({...this._def,description:e})}pipe(e){return Xs.create(this,e)}readonly(){return Dn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},bB=/^c[^\s-]{8,}$/i,wB=/^[0-9a-z]+$/,_B=/^[0-9A-HJKMNP-TV-Z]{26}$/i,SB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,EB=/^[a-z0-9_-]{21}$/i,kB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,TB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,CB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,AB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Eh,PB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,NB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,IB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,i2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",RB=new RegExp(`^${i2}$`);function n2(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function MB(t){return new RegExp(`^${n2(t)}$`)}function r2(t){let e=`${i2}T${n2(t)}`,i=[];return i.push(t.local?"Z?":"Z"),t.offset&&i.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${i.join("|")})`,new RegExp(`^${e}$`)}function LB(t,e){return!!((e==="v4"||!e)&&PB.test(t)||(e==="v6"||!e)&&NB.test(t))}function DB(t,e){if(!kB.test(t))return!1;try{let[i]=t.split("."),n=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),r=JSON.parse(atob(n));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function BB(t,e){return!!((e==="v4"||!e)&&OB.test(t)||(e==="v6"||!e)&&IB.test(t))}var Hi=class t extends ${_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==O.string){let a=this._getOrReturnCtx(e);return C(a,{code:S.invalid_type,expected:O.string,received:a.parsedType}),B}let n=new We,r;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(r=this._getOrReturnCtx(e,r),C(r,{code:S.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(r=this._getOrReturnCtx(e,r),C(r,{code:S.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(r=this._getOrReturnCtx(e,r),s?C(r,{code:S.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&C(r,{code:S.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")CB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"email",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Eh||(Eh=new RegExp(AB,"u")),Eh.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"emoji",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")SB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"uuid",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")EB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"nanoid",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")bB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"cuid",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")wB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"cuid2",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")_B.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"ulid",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),C(r,{validation:"url",code:S.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"regex",code:S.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(e,r),C(r,{code:S.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(r=this._getOrReturnCtx(e,r),C(r,{code:S.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(r=this._getOrReturnCtx(e,r),C(r,{code:S.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?r2(a).test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{code:S.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?RB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{code:S.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?MB(a).test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{code:S.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?TB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"duration",code:S.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?LB(e.data,a.version)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"ip",code:S.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?DB(e.data,a.alg)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"jwt",code:S.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?BB(e.data,a.version)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"cidr",code:S.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?qB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"base64",code:S.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?jB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"base64url",code:S.invalid_string,message:a.message}),n.dirty()):G.assertNever(a);return{status:n.value,value:e.data}}_regex(e,i,n){return this.refinement(r=>e.test(r),{validation:i,code:S.invalid_string,...j.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...j.errToObj(e)})}url(e){return this._addCheck({kind:"url",...j.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...j.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...j.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...j.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...j.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...j.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...j.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...j.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...j.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...j.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...j.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...j.errToObj(e)})}datetime(e){var i,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(i=e?.offset)!==null&&i!==void 0?i:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...j.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...j.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...j.errToObj(e)})}regex(e,i){return this._addCheck({kind:"regex",regex:e,...j.errToObj(i)})}includes(e,i){return this._addCheck({kind:"includes",value:e,position:i?.position,...j.errToObj(i?.message)})}startsWith(e,i){return this._addCheck({kind:"startsWith",value:e,...j.errToObj(i)})}endsWith(e,i){return this._addCheck({kind:"endsWith",value:e,...j.errToObj(i)})}min(e,i){return this._addCheck({kind:"min",value:e,...j.errToObj(i)})}max(e,i){return this._addCheck({kind:"max",value:e,...j.errToObj(i)})}length(e,i){return this._addCheck({kind:"length",value:e,...j.errToObj(i)})}nonempty(e){return this.min(1,j.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxLength(){let e=null;for(let i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}};Hi.create=t=>{var e;return new Hi({checks:[],typeName:D.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...U(t)})};function zB(t,e){let i=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,r=i>n?i:n,a=parseInt(t.toFixed(r).replace(".","")),s=parseInt(e.toFixed(r).replace(".",""));return a%s/Math.pow(10,r)}var En=class t extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==O.number){let a=this._getOrReturnCtx(e);return C(a,{code:S.invalid_type,expected:O.number,received:a.parsedType}),B}let n,r=new We;for(let a of this._def.checks)a.kind==="int"?G.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{code:S.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:S.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:S.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?zB(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),C(n,{code:S.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{code:S.not_finite,message:a.message}),r.dirty()):G.assertNever(a);return{status:r.value,value:e.data}}gte(e,i){return this.setLimit("min",e,!0,j.toString(i))}gt(e,i){return this.setLimit("min",e,!1,j.toString(i))}lte(e,i){return this.setLimit("max",e,!0,j.toString(i))}lt(e,i){return this.setLimit("max",e,!1,j.toString(i))}setLimit(e,i,n,r){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:n,message:j.toString(r)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:j.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:j.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:j.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:j.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:j.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:j.toString(i)})}finite(e){return this._addCheck({kind:"finite",message:j.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:j.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:j.toString(e)})}get minValue(){let e=null;for(let i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxValue(){let e=null;for(let i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&G.isInteger(e.value))}get isFinite(){let e=null,i=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(i===null||n.value>i)&&(i=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(i)&&Number.isFinite(e)}};En.create=t=>new En({checks:[],typeName:D.ZodNumber,coerce:t?.coerce||!1,...U(t)});var kn=class t extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==O.bigint)return this._getInvalidInput(e);let n,r=new We;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:S.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:S.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),C(n,{code:S.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):G.assertNever(a);return{status:r.value,value:e.data}}_getInvalidInput(e){let i=this._getOrReturnCtx(e);return C(i,{code:S.invalid_type,expected:O.bigint,received:i.parsedType}),B}gte(e,i){return this.setLimit("min",e,!0,j.toString(i))}gt(e,i){return this.setLimit("min",e,!1,j.toString(i))}lte(e,i){return this.setLimit("max",e,!0,j.toString(i))}lt(e,i){return this.setLimit("max",e,!1,j.toString(i))}setLimit(e,i,n,r){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:n,message:j.toString(r)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:j.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:j.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:j.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:j.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:j.toString(i)})}get minValue(){let e=null;for(let i of this._def.ch
		`;await i.execute(x`CREATE SCHEMA IF NOT EXISTS ${x.identifier(a)}`),await i.execute(s);let c=(await i.all(x`select id, hash, created_at from ${x.identifier(a)}.${x.identifier(r)} order by created_at desc limit 1`))[0];await i.transaction(async l=>{for await(let p of e)if(!c||Number(c.created_at)<p.folderMillis){for(let u of p.sql)await l.execute(x.raw(u));await l.execute(x`insert into ${x.identifier(a)}.${x.identifier(r)} ("hash", "created_at") values(${p.hash}, ${p.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let i=[x`with `];for(let[n,r]of e.entries())i.push(x`${x.identifier(r._.alias)} as (${r._.sql})`),n<e.length-1&&i.push(x`, `);return i.push(x` `),x.join(i)}buildDeleteQuery({table:e,where:i,returning:n,withList:r}){let a=this.buildWithCTE(r),s=n?x` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,o=i?x` where ${i}`:void 0;return x`${a}delete from ${e}${o}${s}`}buildUpdateSet(e,i){let n=e[A.Symbol.Columns],r=Object.keys(n).filter(s=>i[s]!==void 0||n[s]?.onUpdateFn!==void 0),a=r.length;return x.join(r.flatMap((s,o)=>{let c=n[s],l=i[s]??x.param(c.onUpdateFn(),c),p=x`${x.identifier(this.casing.getColumnCasing(c))} = ${l}`;return o<a-1?[p,x.raw(", ")]:[p]}))}buildUpdateQuery({table:e,set:i,where:n,returning:r,withList:a,from:s,joins:o}){let c=this.buildWithCTE(a),l=e[ze.Symbol.Name],p=e[ze.Symbol.Schema],u=e[ze.Symbol.OriginalName],d=l===u?void 0:l,f=x`${p?x`${x.identifier(p)}.`:void 0}${x.identifier(u)}${d&&x` ${x.identifier(d)}`}`,m=this.buildUpdateSet(e,i),h=s&&x.join([x.raw(" from "),this.buildFromTable(s)]),y=this.buildJoins(o),w=r?x` returning ${this.buildSelection(r,{isSingleTable:!s})}`:void 0,E=n?x` where ${n}`:void 0;return x`${c}update ${f} set ${m}${h}${y}${E}${w}`}buildSelection(e,{isSingleTable:i=!1}={}){let n=e.length,r=e.flatMap(({field:a},s)=>{let o=[];if(b(a,N.Aliased)&&a.isSelectionField)o.push(x.identifier(a.fieldAlias));else if(b(a,N.Aliased)||b(a,N)){let c=b(a,N.Aliased)?a.sql:a;i?o.push(new N(c.queryChunks.map(l=>b(l,k)?x.identifier(this.casing.getColumnCasing(l)):l))):o.push(c),b(a,N.Aliased)&&o.push(x` as ${x.identifier(a.fieldAlias)}`)}else b(a,K)&&(i?o.push(x.identifier(this.casing.getColumnCasing(a))):o.push(a));return s<n-1&&o.push(x`, `),o});return x.join(r)}buildJoins(e){if(!e||e.length===0)return;let i=[];for(let[n,r]of e.entries()){n===0&&i.push(x` `);let a=r.table,s=r.lateral?x` lateral`:void 0;if(b(a,ze)){let o=a[ze.Symbol.Name],c=a[ze.Symbol.Schema],l=a[ze.Symbol.OriginalName],p=o===l?void 0:r.alias;i.push(x`${x.raw(r.joinType)} join${s} ${c?x`${x.identifier(c)}.`:void 0}${x.identifier(l)}${p&&x` ${x.identifier(p)}`} on ${r.on}`)}else if(b(a,it)){let o=a[oe].name,c=a[oe].schema,l=a[oe].originalName,p=o===l?void 0:r.alias;i.push(x`${x.raw(r.joinType)} join${s} ${c?x`${x.identifier(c)}.`:void 0}${x.identifier(l)}${p&&x` ${x.identifier(p)}`} on ${r.on}`)}else i.push(x`${x.raw(r.joinType)} join${s} ${a} on ${r.on}`);n<e.length-1&&i.push(x` `)}return x.join(i)}buildFromTable(e){if(b(e,A)&&e[A.Symbol.OriginalName]!==e[A.Symbol.Name]){let i=x`${x.identifier(e[A.Symbol.OriginalName])}`;return e[A.Symbol.Schema]&&(i=x`${x.identifier(e[A.Symbol.Schema])}.${i}`),x`${i} ${x.identifier(e[A.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:i,fieldsFlat:n,where:r,having:a,table:s,joins:o,orderBy:c,groupBy:l,limit:p,offset:u,lockingClause:d,distinct:f,setOperators:m}){let h=n??It(i);for(let pe of h)if(b(pe.field,K)&&ft(pe.field.table)!==(b(s,Ae)?s._.alias:b(s,Qr)?s[oe].name:b(s,N)?void 0:ft(s))&&!(be=>o?.some(({alias:xt})=>xt===(be[A.Symbol.IsAlias]?ft(be):be[A.Symbol.BaseName])))(pe.field.table)){let be=ft(pe.field.table);throw new Error(`Your "${pe.path.join("->")}" field references a column "${be}"."${pe.field.name}", but the table "${be}" is not part of the query! Did you forget to join it?`)}let y=!o||o.length===0,w=this.buildWithCTE(e),E;f&&(E=f===!0?x` distinct`:x` distinct on (${x.join(f.on,x`, `)})`);let _=this.buildSelection(h,{isSingleTable:y}),T=this.buildFromTable(s),L=this.buildJoins(o),R=r?x` where ${r}`:void 0,P=a?x` having ${a}`:void 0,q;c&&c.length>0&&(q=x` order by ${x.join(c,x`, `)}`);let H;l&&l.length>0&&(H=x` group by ${x.join(l,x`, `)}`);let Te=typeof p=="object"||typeof p=="number"&&p>=0?x` limit ${p}`:void 0,st=u?x` offset ${u}`:void 0,$e=x.empty();if(d){let pe=x` for ${x.raw(d.strength)}`;d.config.of&&pe.append(x` of ${x.join(Array.isArray(d.config.of)?d.config.of:[d.config.of],x`, `)}`),d.config.noWait?pe.append(x` no wait`):d.config.skipLocked&&pe.append(x` skip locked`),$e.append(pe)}let ye=x`${w}select${E} ${_} from ${T}${L}${R}${H}${P}${q}${Te}${st}${$e}`;return m.length>0?this.buildSetOperations(ye,m):ye}buildSetOperations(e,i){let[n,...r]=i;if(!n)throw new Error("Cannot pass undefined values to any set operator");return r.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:n}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:n}),r)}buildSetOperationQuery({leftSelect:e,setOperator:{type:i,isAll:n,rightSelect:r,limit:a,orderBy:s,offset:o}}){let c=x`(${e.getSQL()}) `,l=x`(${r.getSQL()})`,p;if(s&&s.length>0){let m=[];for(let h of s)if(b(h,k))m.push(x.identifier(h.name));else if(b(h,N)){for(let y=0;y<h.queryChunks.length;y++){let w=h.queryChunks[y];b(w,k)&&(h.queryChunks[y]=x.identifier(w.name))}m.push(x`${h}`)}else m.push(x`${h}`);p=x` order by ${x.join(m,x`, `)} `}let u=typeof a=="object"||typeof a=="number"&&a>=0?x` limit ${a}`:void 0,d=x.raw(`${i} ${n?"all ":""}`),f=o?x` offset ${o}`:void 0;return x`${c}${d}${l}${p}${u}${f}`}buildInsertQuery({table:e,values:i,onConflict:n,returning:r,withList:a,select:s,overridingSystemValue_:o}){let c=[],l=e[A.Symbol.Columns],p=Object.entries(l).filter(([w,E])=>!E.shouldDisableInsert()),u=p.map(([,w])=>x.identifier(this.casing.getColumnCasing(w)));if(s){let w=i;b(w,N)?c.push(w):c.push(w.getSQL())}else{let w=i;c.push(x.raw("values "));for(let[E,_]of w.entries()){let T=[];for(let[L,R]of p){let P=_[L];if(P===void 0||b(P,mt)&&P.value===void 0)if(R.defaultFn!==void 0){let q=R.defaultFn(),H=b(q,N)?q:x.param(q,R);T.push(H)}else if(!R.default&&R.onUpdateFn!==void 0){let q=R.onUpdateFn(),H=b(q,N)?q:x.param(q,R);T.push(H)}else T.push(x`default`);else T.push(P)}c.push(T),E<w.length-1&&c.push(x`, `)}}let d=this.buildWithCTE(a),f=x.join(c),m=r?x` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,h=n?x` on conflict ${n}`:void 0,y=o===!0?x`overriding system value `:void 0;return x`${d}insert into ${e} ${u} ${y}${f}${h}${m}`}buildRefreshMaterializedViewQuery({view:e,concurrently:i,withNoData:n}){let r=i?x` concurrently`:void 0,a=n?x` with no data`:void 0;return x`refresh materialized view${r} ${e}${a}`}prepareTyping(e){return b(e,Ms)||b(e,Rs)?"json":b(e,Ls)?"decimal":b(e,Ds)?"time":b(e,Bs)||b(e,zs)?"timestamp":b(e,qs)||b(e,js)?"date":b(e,Fs)?"uuid":"none"}sqlToQuery(e,i){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:i})}buildRelationalQueryWithoutPK({fullSchema:e,schema:i,tableNamesMap:n,table:r,tableConfig:a,queryConfig:s,tableAlias:o,nestedQueryRelation:c,joinOn:l}){let p=[],u,d,f=[],m,h=[];if(s===!0)p=Object.entries(a.columns).map(([E,_])=>({dbKey:_.name,tsKey:E,field:ei(_,o),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let w=Object.fromEntries(Object.entries(a.columns).map(([P,q])=>[P,ei(q,o)]));if(s.where){let P=typeof s.where=="function"?s.where(w,QT()):s.where;m=P&&As(P,o)}let E=[],_=[];if(s.columns){let P=!1;for(let[q,H]of Object.entries(s.columns))H!==void 0&&q in a.columns&&(!P&&H===!0&&(P=!0),_.push(q));_.length>0&&(_=P?_.filter(q=>s.columns?.[q]===!0):Object.keys(a.columns).filter(q=>!_.includes(q)))}else _=Object.keys(a.columns);for(let P of _){let q=a.columns[P];E.push({tsKey:P,value:q})}let T=[];s.with&&(T=Object.entries(s.with).filter(P=>!!P[1]).map(([P,q])=>({tsKey:P,queryConfig:q,relation:a.relations[P]})));let L;if(s.extras){L=typeof s.extras=="function"?s.extras(w,{sql:x}):s.extras;for(let[P,q]of Object.entries(L))E.push({tsKey:P,value:Xf(q,o)})}for(let{tsKey:P,value:q}of E)p.push({dbKey:b(q,N.Aliased)?q.fieldAlias:a.columns[P].name,tsKey:P,field:b(q,K)?ei(q,o):q,relationTableTsKey:void 0,isJson:!1,selection:[]});let R=typeof s.orderBy=="function"?s.orderBy(w,VT()):s.orderBy??[];Array.isArray(R)||(R=[R]),f=R.map(P=>b(P,K)?ei(P,o):As(P,o)),u=s.limit,d=s.offset;for(let{tsKey:P,queryConfig:q,relation:H}of T){let Te=WT(i,n,H),st=yn(H.referencedTable),$e=n[st],ye=`${o}_${P}`,pe=Us(...Te.fields.map((Xi,da)=>Ne(ei(Te.references[da],ye),ei(Xi,o)))),be=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:i,tableNamesMap:n,table:e[$e],tableConfig:i[$e],queryConfig:b(H,Ui)?q===!0?{limit:1}:{...q,limit:1}:q,tableAlias:ye,joinOn:pe,nestedQueryRelation:H}),xt=x`${x.identifier(ye)}.${x.identifier("data")}`.as(P);h.push({on:x`true`,table:new Ae(be.sql,{},ye),alias:ye,joinType:"left",lateral:!0}),p.push({dbKey:P,tsKey:P,field:xt,relationTableTsKey:$e,isJson:!0,selection:be.selection})}}if(p.length===0)throw new Ns({message:`No fields selected for table "${a.tsName}" ("${o}")`});let y;if(m=Us(l,m),c){let w=x`json_build_array(${x.join(p.map(({field:T,tsKey:L,isJson:R})=>R?x`${x.identifier(`${o}_${L}`)}.${x.identifier("data")}`:b(T,N.Aliased)?T.sql:T),x`, `)})`;b(c,$s)&&(w=x`coalesce(json_agg(${w}${f.length>0?x` order by ${x.join(f,x`, `)}`:void 0}), '[]'::json)`);let E=[{dbKey:"data",tsKey:"data",field:w.as("data"),isJson:!0,relationTableTsKey:a.tsName,selection:p}];u!==void 0||d!==void 0||f.length>0?(y=this.buildSelectQuery({table:Cs(r,o),fields:{},fieldsFlat:[{path:[],field:x.raw("*")}],where:m,limit:u,offset:d,orderBy:f,setOperators:[]}),m=void 0,u=void 0,d=void 0,f=[]):y=Cs(r,o),y=this.buildSelectQuery({table:b(y,ze)?y:new Ae(y,{},o),fields:{},fieldsFlat:E.map(({field:T})=>({path:[],field:b(T,K)?ei(T,o):T})),joins:h,where:m,limit:u,offset:d,orderBy:f,setOperators:[]})}else y=this.buildSelectQuery({table:Cs(r,o),fields:{},fieldsFlat:p.map(({field:w})=>({path:[],field:b(w,K)?ei(w,o):w})),joins:h,where:m,limit:u,offset:d,orderBy:f,setOperators:[]});return{tableTsKey:a.tsName,sql:y,selection:p}}};var dl=class{static[g]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}};var Ge=class{static[g]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let i=!!this.fields,n=e,r;return this.fields?r=this.fields:b(n,Ae)?r=Object.fromEntries(Object.keys(n._.selectedFields).map(a=>[a,n[a]])):b(n,Qr)?r=n[oe].selectedFields:b(n,N)?r={}:r=al(n),new fl({table:n,fields:r,isPartialSelect:i,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}},xh=class extends dl{static[g]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;constructor({table:e,fields:i,isPartialSelect:n,session:r,dialect:a,withList:s,distinct:o}){super(),this.config={withList:s,table:e,fields:{...i},distinct:o,setOperators:[]},this.isPartialSelect=n,this.session=r,this.dialect=a,this._={selectedFields:i},this.tableName=hi(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}createJoin(e){return(i,n)=>{let r=this.tableName,a=hi(i);if(typeof a=="string"&&this.config.joins?.some(s=>s.alias===a))throw new Error(`Alias "${a}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof r=="string"&&(this.config.fields={[r]:this.config.fields}),typeof a=="string"&&!b(i,N))){let s=b(i,Ae)?i._.selectedFields:b(i,it)?i[oe].selectedFields:i[A.Symbol.Columns];this.config.fields[a]=s}if(typeof n=="function"&&(n=n(new Proxy(this.config.fields,new Se({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:n,table:i,joinType:e,alias:a}),typeof a=="string")switch(e){case"left":{this.joinsNotNullableMap[a]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([s])=>[s,!1])),this.joinsNotNullableMap[a]=!0;break}case"inner":{this.joinsNotNullableMap[a]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([s])=>[s,!1])),this.joinsNotNullableMap[a]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");createSetOperator(e,i){return n=>{let r=typeof n=="function"?n(pB()):n;if(!Ps(this.getSelectedFields(),r.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:i,rightSelect:r}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new Se({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new Se({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if(typeof e[0]=="function"){let i=e[0](new Proxy(this.config.fields,new Se({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(i)?i:[i]}else this.config.groupBy=e;return this}orderBy(...e){if(typeof e[0]=="function"){let i=e[0](new Proxy(this.config.fields,new Se({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),n=Array.isArray(i)?i:[i];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}else{let i=e;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=i:this.config.orderBy=i}return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,i={}){return this.config.lockingClause={strength:e,config:i},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...i}=this.dialect.sqlToQuery(this.getSQL());return i}as(e){return new Proxy(new Ae(this.getSQL(),this.config.fields,e),new Se({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new Se({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}},fl=class extends xh{static[g]="PgSelect";_prepare(e){let{session:i,config:n,dialect:r,joinsNotNullableMap:a,authToken:s}=this;if(!i)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");return se.startActiveSpan("drizzle.prepareQuery",()=>{let o=It(n.fields),c=i.prepareQuery(r.sqlToQuery(this.getSQL()),o,e,!0);return c.joinsNotNullableMap=a,c.setToken(s)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>se.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))};Gk(fl,[Ve]);function Vr(t,e){return(i,n,...r)=>{let a=[n,...r].map(s=>({type:t,isAll:e,rightSelect:s}));for(let s of a)if(!Ps(i.getSelectedFields(),s.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return i.addSetOperators(a)}}var pB=()=>({union:uB,unionAll:dB,intersect:fB,intersectAll:mB,except:hB,exceptAll:vB}),uB=Vr("union",!1),dB=Vr("union",!0),fB=Vr("intersect",!1),mB=Vr("intersect",!0),hB=Vr("except",!1),vB=Vr("except",!0);var Gr=class{static[g]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=b(e,$i)?e:void 0,this.dialectConfig=b(e,$i)?void 0:e}$with=(e,i)=>{let n=this;return{as:a=>(typeof a=="function"&&(a=a(n)),new Proxy(new Ur(a.getSQL(),i??("getSelectedFields"in a?a.getSelectedFields()??{}:{}),e,!0),new Se({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let i=this;function n(s){return new Ge({fields:s??void 0,session:void 0,dialect:i.getDialect(),withList:e})}function r(s){return new Ge({fields:s??void 0,session:void 0,dialect:i.getDialect(),distinct:!0})}function a(s,o){return new Ge({fields:o??void 0,session:void 0,dialect:i.getDialect(),distinct:{on:s}})}return{select:n,selectDistinct:r,selectDistinctOn:a}}select(e){return new Ge({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new Ge({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,i){return new Ge({fields:i??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new $i(this.dialectConfig)),this.dialect}};var Hs=class{constructor(e,i,n,r,a){this.table=e,this.session=i,this.dialect=n,this.withList=r,this.overridingSystemValue_=a}static[g]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");let i=e.map(n=>{let r={},a=this.table[A.Symbol.Columns];for(let s of Object.keys(n)){let o=n[s];r[s]=b(o,N)?o:new mt(o,a[s])}return r});return new ml(this.table,i,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let i=typeof e=="function"?e(new Gr):e;if(!b(i,N)&&!Ps(this.table[nl],i._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new ml(this.table,i,this.session,this.dialect,this.withList,!0)}},ml=class extends Ve{constructor(e,i,n,r,a,s,o){super(),this.session=n,this.dialect=r,this.config={table:e,values:i,withList:a,select:s,overridingSystemValue_:o}}static[g]="PgInsert";config;returning(e=this.config.table[A.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=It(e),this}onConflictDoNothing(e={}){if(e.target===void 0)this.config.onConflict=x`do nothing`;else{let i="";i=Array.isArray(e.target)?e.target.map(r=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(r))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let n=e.where?x` where ${e.where}`:void 0;this.config.onConflict=x`(${x.raw(i)})${n} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let i=e.where?x` where ${e.where}`:void 0,n=e.targetWhere?x` where ${e.targetWhere}`:void 0,r=e.setWhere?x` where ${e.setWhere}`:void 0,a=this.dialect.buildUpdateSet(this.config.table,rl(this.config.table,e.set)),s="";return s=Array.isArray(e.target)?e.target.map(o=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(o))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=x`(${x.raw(s)})${n} do update set ${a}${i}${r}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...i}=this.dialect.sqlToQuery(this.getSQL());return i}_prepare(e){return se.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>se.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Se({alias:ft(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}};var hl=class extends Ve{constructor(e,i,n){super(),this.session=i,this.dialect=n,this.config={view:e}}static[g]="PgRefreshMaterializedView";config;concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...i}=this.dialect.sqlToQuery(this.getSQL());return i}_prepare(e){return se.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>se.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))};var Qs=class{constructor(e,i,n,r){this.table=e,this.session=i,this.dialect=n,this.withList=r}static[g]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new yh(this.table,rl(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}},yh=class extends Ve{constructor(e,i,n,r,a){super(),this.session=n,this.dialect=r,this.config={set:i,table:e,withList:a,joins:[]},this.tableName=hi(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}static[g]="PgUpdate";config;tableName;joinsNotNullableMap;from(e){let i=e,n=hi(i);return typeof n=="string"&&(this.joinsNotNullableMap[n]=!0),this.config.from=i,this}getTableLikeFields(e){return b(e,ze)?e[A.Symbol.Columns]:b(e,Ae)?e._.selectedFields:e[oe].selectedFields}createJoin(e){return(i,n)=>{let r=hi(i);if(typeof r=="string"&&this.config.joins.some(a=>a.alias===r))throw new Error(`Alias "${r}" is already used in this query`);if(typeof n=="function"){let a=this.config.from&&!b(this.config.from,N)?this.getTableLikeFields(this.config.from):void 0;n=n(new Proxy(this.config.table[A.Symbol.Columns],new Se({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),a&&new Proxy(a,new Se({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:n,table:i,joinType:e,alias:r}),typeof r=="string")switch(e){case"left":{this.joinsNotNullableMap[r]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[r]=!0;break}case"inner":{this.joinsNotNullableMap[r]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[r]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[A.Symbol.Columns]),this.config.from)){let i=hi(this.config.from);if(typeof i=="string"&&this.config.from&&!b(this.config.from,N)){let n=this.getTableLikeFields(this.config.from);e[i]=n}for(let n of this.config.joins){let r=hi(n.table);if(typeof r=="string"&&!b(n.table,N)){let a=this.getTableLikeFields(n.table);e[r]=a}}}return this.config.returningFields=e,this.config.returning=It(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...i}=this.dialect.sqlToQuery(this.getSQL());return i}_prepare(e){let i=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0);return i.joinsNotNullableMap=this.joinsNotNullableMap,i}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Se({alias:ft(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}};var vl=class t extends N{constructor(e){super(t.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=t.buildCount(e.source,e.filters)}sql;token;static[g]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,i){return x`(select count(*) from ${e}${x.raw(" where ").if(i)}${i})`}static buildCount(e,i){return x`select count(*) as count from ${e}${x.raw(" where ").if(i)}${i};`}setToken(e){return this.token=e,this}then(e,i){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,i)}catch(e){return this.then(void 0,e)}finally(e){return this.then(i=>(e?.(),i),i=>{throw e?.(),i})}};var gl=class{constructor(e,i,n,r,a,s,o){this.fullSchema=e,this.schema=i,this.tableNamesMap=n,this.table=r,this.tableConfig=a,this.dialect=s,this.session=o}static[g]="PgRelationalQueryBuilder";findMany(e){return new xl(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new xl(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}},xl=class extends Ve{constructor(e,i,n,r,a,s,o,c,l){super(),this.fullSchema=e,this.schema=i,this.tableNamesMap=n,this.table=r,this.tableConfig=a,this.dialect=s,this.session=o,this.config=c,this.mode=l}static[g]="PgRelationalQuery";_prepare(e){return se.startActiveSpan("drizzle.prepareQuery",()=>{let{query:i,builtQuery:n}=this._toSQL();return this.session.prepareQuery(n,void 0,e,!0,(r,a)=>{let s=r.map(o=>ul(this.schema,this.tableConfig,o,i.selection,a));return this.mode==="first"?s[0]:s})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),i=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:i}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return se.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}};var yl=class extends Ve{constructor(e,i,n,r){super(),this.execute=e,this.sql=i,this.query=n,this.mapBatchResult=r}static[g]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,i){return i?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}};var Wr=class{constructor(e,i,n){if(this.dialect=e,this.session=i,this._=n?{schema:n.schema,fullSchema:n.fullSchema,tableNamesMap:n.tableNamesMap,session:i}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:i},this.query={},this._.schema)for(let[r,a]of Object.entries(this._.schema))this.query[r]=new gl(n.fullSchema,this._.schema,this._.tableNamesMap,n.fullSchema[r],a,e,i)}static[g]="PgDatabase";query;$with=(e,i)=>{let n=this;return{as:a=>(typeof a=="function"&&(a=a(new Gr(n.dialect))),new Proxy(new Ur(a.getSQL(),i??("getSelectedFields"in a?a.getSelectedFields()??{}:{}),e,!0),new Se({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,i){return new vl({source:e,filters:i,session:this.session})}with(...e){let i=this;function n(l){return new Ge({fields:l??void 0,session:i.session,dialect:i.dialect,withList:e})}function r(l){return new Ge({fields:l??void 0,session:i.session,dialect:i.dialect,withList:e,distinct:!0})}function a(l,p){return new Ge({fields:p??void 0,session:i.session,dialect:i.dialect,withList:e,distinct:{on:l}})}function s(l){return new Qs(l,i.session,i.dialect,e)}function o(l){return new Hs(l,i.session,i.dialect,e)}function c(l){return new Os(l,i.session,i.dialect,e)}return{select:n,selectDistinct:r,selectDistinctOn:a,update:s,insert:o,delete:c}}select(e){return new Ge({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new Ge({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,i){return new Ge({fields:i??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new Qs(e,this.session,this.dialect)}insert(e){return new Hs(e,this.session,this.dialect)}delete(e){return new Os(e,this.session,this.dialect)}refreshMaterializedView(e){return new hl(e,this.session,this.dialect)}authToken;execute(e){let i=typeof e=="string"?x.raw(e):e.getSQL(),n=this.dialect.sqlToQuery(i),r=this.session.prepareQuery(n,void 0,void 0,!1);return new yl(()=>r.execute(void 0,this.authToken),i,n,a=>r.mapResult(a,!0))}transaction(e,i){return this.session.transaction(e,i)}};var bl=class{constructor(e){this.query=e}authToken;getQuery(){return this.query}mapResult(e,i){return e}setToken(e){return this.authToken=e,this}static[g]="PgPreparedQuery";joinsNotNullableMap},wl=class{constructor(e){this.dialect=e}static[g]="PgSession";execute(e,i){return se.startActiveSpan("drizzle.operation",()=>se.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(i).execute(void 0,i))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,i){let n=await this.execute(e,i);return Number(n[0].count)}},_l=class extends Wr{constructor(e,i,n,r=0){super(e,i,n),this.schema=n,this.nestedIndex=r}static[g]="PgTransaction";rollback(){throw new ol}getTransactionConfigSQL(e){let i=[];return e.isolationLevel&&i.push(`isolation level ${e.isolationLevel}`),e.accessMode&&i.push(e.accessMode),typeof e.deferrable=="boolean"&&i.push(e.deferrable?"deferrable":"not deferrable"),x.raw(i.join(" "))}setTransaction(e){return this.session.execute(x`set transaction ${this.getTransactionConfigSQL(e)}`)}};var{Pool:ZT,types:ni}=zi,bh=class extends bl{constructor(e,i,n,r,a,s,o,c){super({sql:i,params:n}),this.client=e,this.params=n,this.logger=r,this.fields=a,this._isResponseInArrayMode=o,this.customResultMapper=c,this.rawQueryConfig={name:s,text:i,types:{getTypeParser:(l,p)=>l===ni.builtins.TIMESTAMPTZ?u=>u:l===ni.builtins.TIMESTAMP?u=>u:l===ni.builtins.DATE?u=>u:l===ni.builtins.INTERVAL?u=>u:ni.getTypeParser(l,p)}},this.queryConfig={name:s,text:i,rowMode:"array",types:{getTypeParser:(l,p)=>l===ni.builtins.TIMESTAMPTZ?u=>u:l===ni.builtins.TIMESTAMP?u=>u:l===ni.builtins.DATE?u=>u:l===ni.builtins.INTERVAL?u=>u:ni.getTypeParser(l,p)}}}static[g]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){return se.startActiveSpan("drizzle.execute",async()=>{let i=Zf(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,i);let{fields:n,rawQueryConfig:r,client:a,queryConfig:s,joinsNotNullableMap:o,customResultMapper:c}=this;if(!n&&!c)return se.startActiveSpan("drizzle.driver.execute",async p=>(p?.setAttributes({"drizzle.query.name":r.name,"drizzle.query.text":r.text,"drizzle.query.params":JSON.stringify(i)}),a.query(r,i)));let l=await se.startActiveSpan("drizzle.driver.execute",p=>(p?.setAttributes({"drizzle.query.name":s.name,"drizzle.query.text":s.text,"drizzle.query.params":JSON.stringify(i)}),a.query(s,i)));return se.startActiveSpan("drizzle.mapResponse",()=>c?c(l.rows):l.rows.map(p=>Vk(n,p,o)))})}all(e={}){return se.startActiveSpan("drizzle.execute",()=>{let i=Zf(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,i),se.startActiveSpan("drizzle.driver.execute",n=>(n?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(i)}),this.client.query(this.rawQueryConfig,i).then(r=>r.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}},Sl=class t extends wl{constructor(e,i,n,r={}){super(i),this.client=e,this.schema=n,this.options=r,this.logger=r.logger??new Jc}static[g]="NodePgSession";logger;prepareQuery(e,i,n,r,a){return new bh(this.client,e.sql,e.params,this.logger,i,n,r,a)}async transaction(e,i){let n=this.client instanceof ZT?new t(await this.client.connect(),this.dialect,this.schema,this.options):this,r=new wh(this.dialect,n,this.schema);await r.execute(x`begin${i?x` ${r.getTransactionConfigSQL(i)}`:void 0}`);try{let a=await e(r);return await r.execute(x`commit`),a}catch(a){throw await r.execute(x`rollback`),a}finally{this.client instanceof ZT&&n.client.release()}}async count(e){let i=await this.execute(e);return Number(i.rows[0].count)}},wh=class t extends _l{static[g]="NodePgTransaction";async transaction(e){let i=`sp${this.nestedIndex+1}`,n=new t(this.dialect,this.session,this.schema,this.nestedIndex+1);await n.execute(x.raw(`savepoint ${i}`));try{let r=await e(n);return await n.execute(x.raw(`release savepoint ${i}`)),r}catch(r){throw await n.execute(x.raw(`rollback to savepoint ${i}`)),r}}};var _h=class{constructor(e,i,n={}){this.client=e,this.dialect=i,this.options=n}static[g]="NodePgDriver";createSession(e){return new Sl(this.client,this.dialect,e,{logger:this.options.logger})}},Sh=class extends Wr{static[g]="NodePgDatabase"};function Vs(t,e={}){let i=new $i({casing:e.casing}),n;e.logger===!0?n=new Xc:e.logger!==!1&&(n=e.logger);let r;if(e.schema){let c=GT(e.schema,KT);r={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}let s=new _h(t,i,{logger:n}).createSession(r),o=new Sh(i,s,r);return o.$client=t,o}function El(...t){if(typeof t[0]=="string"){let e=new zi.Pool({connectionString:t[0]});return Vs(e,t[1])}if(Kk(t[0])){let{connection:e,client:i,...n}=t[0];if(i)return Vs(i,n);let r=typeof e=="string"?new zi.Pool({connectionString:e}):new zi.Pool(e);return Vs(r,n)}return Vs(t[0],t[1])}(t=>{function e(i){return Vs({},i)}t.mock=e})(El||(El={}));var Oh={};lg(Oh,{contracts:()=>xe,contractsRelations:()=>Rz,insertContractSchema:()=>Lz,insertMachineSchema:()=>Mz,insertTransactionSchema:()=>Dz,insertUserSchema:()=>Ph,machines:()=>Et,session:()=>qz,transactions:()=>rt,users:()=>ie,usersRelations:()=>jz});var G;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function i(r){throw new Error}t.assertNever=i,t.arrayToEnum=r=>{let a={};for(let s of r)a[s]=s;return a},t.getValidEnumValues=r=>{let a=t.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),s={};for(let o of a)s[o]=r[o];return t.objectValues(s)},t.objectValues=r=>t.objectKeys(r).map(function(a){return r[a]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{let a=[];for(let s in r)Object.prototype.hasOwnProperty.call(r,s)&&a.push(s);return a},t.find=(r,a)=>{for(let s of r)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function n(r,a=" | "){return r.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(r,a)=>typeof a=="bigint"?a.toString():a})(G||(G={}));var kh;(function(t){t.mergeShapes=(e,i)=>({...e,...i})})(kh||(kh={}));var O=G.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xi=t=>{switch(typeof t){case"undefined":return O.undefined;case"string":return O.string;case"number":return isNaN(t)?O.nan:O.number;case"boolean":return O.boolean;case"function":return O.function;case"bigint":return O.bigint;case"symbol":return O.symbol;case"object":return Array.isArray(t)?O.array:t===null?O.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?O.promise:typeof Map<"u"&&t instanceof Map?O.map:typeof Set<"u"&&t instanceof Set?O.set:typeof Date<"u"&&t instanceof Date?O.date:O.object;default:return O.unknown}},S=G.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),gB=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),_t=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=e}format(e){let i=e||function(a){return a.message},n={_errors:[]},r=a=>{for(let s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(r);else if(s.code==="invalid_return_type")r(s.returnTypeError);else if(s.code==="invalid_arguments")r(s.argumentsError);else if(s.path.length===0)n._errors.push(i(s));else{let o=n,c=0;for(;c<s.path.length;){let l=s.path[c];c===s.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(i(s))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return r(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,G.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=i=>i.message){let i={},n=[];for(let r of this.issues)r.path.length>0?(i[r.path[0]]=i[r.path[0]]||[],i[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:i}}get formErrors(){return this.flatten()}};_t.create=t=>new _t(t);var Xr=(t,e)=>{let i;switch(t.code){case S.invalid_type:t.received===O.undefined?i="Required":i=`Expected ${t.expected}, received ${t.received}`;break;case S.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(t.expected,G.jsonStringifyReplacer)}`;break;case S.unrecognized_keys:i=`Unrecognized key(s) in object: ${G.joinValues(t.keys,", ")}`;break;case S.invalid_union:i="Invalid input";break;case S.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${G.joinValues(t.options)}`;break;case S.invalid_enum_value:i=`Invalid enum value. Expected ${G.joinValues(t.options)}, received '${t.received}'`;break;case S.invalid_arguments:i="Invalid function arguments";break;case S.invalid_return_type:i="Invalid function return type";break;case S.invalid_date:i="Invalid date";break;case S.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(i=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(i=`${i} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?i=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?i=`Invalid input: must end with "${t.validation.endsWith}"`:G.assertNever(t.validation):t.validation!=="regex"?i=`Invalid ${t.validation}`:i="Invalid";break;case S.too_small:t.type==="array"?i=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?i=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?i=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?i=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:i="Invalid input";break;case S.too_big:t.type==="array"?i=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?i=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?i=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?i=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?i=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:i="Invalid input";break;case S.custom:i="Invalid input";break;case S.invalid_intersection_types:i="Intersection results could not be merged";break;case S.not_multiple_of:i=`Number must be a multiple of ${t.multipleOf}`;break;case S.not_finite:i="Number must be finite";break;default:i=e.defaultError,G.assertNever(t)}return{message:i}},e2=Xr;function xB(t){e2=t}function kl(){return e2}var Tl=t=>{let{data:e,path:i,errorMaps:n,issueData:r}=t,a=[...i,...r.path||[]],s={...r,path:a};if(r.message!==void 0)return{...r,path:a,message:r.message};let o="",c=n.filter(l=>!!l).slice().reverse();for(let l of c)o=l(s,{data:e,defaultError:o}).message;return{...r,path:a,message:o}},yB=[];function C(t,e){let i=kl(),n=Tl({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,i,i===Xr?void 0:Xr].filter(r=>!!r)});t.common.issues.push(n)}var We=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,i){let n=[];for(let r of i){if(r.status==="aborted")return B;r.status==="dirty"&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,i){let n=[];for(let r of i){let a=await r.key,s=await r.value;n.push({key:a,value:s})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,i){let n={};for(let r of i){let{key:a,value:s}=r;if(a.status==="aborted"||s.status==="aborted")return B;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||r.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}},B=Object.freeze({status:"aborted"}),Zr=t=>({status:"dirty",value:t}),nt=t=>({status:"valid",value:t}),Th=t=>t.status==="aborted",Ch=t=>t.status==="dirty",Sn=t=>t.status==="valid",Ks=t=>typeof Promise<"u"&&t instanceof Promise;function Cl(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)}function t2(t,e,i,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}var j;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(j||(j={}));var Gs,Ws,jt=class{constructor(e,i,n,r){this._cachedPath=[],this.parent=e,this.data=i,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},XT=(t,e)=>{if(Sn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let i=new _t(t.common.issues);return this._error=i,this._error}}};function U(t){if(!t)return{};let{errorMap:e,invalid_type_error:i,required_error:n,description:r}=t;if(e&&(i||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(s,o)=>{var c,l;let{message:p}=t;return s.code==="invalid_enum_value"?{message:p??o.defaultError}:typeof o.data>"u"?{message:(c=p??n)!==null&&c!==void 0?c:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(l=p??i)!==null&&l!==void 0?l:o.defaultError}},description:r}}var $=class{get description(){return this._def.description}_getType(e){return xi(e.data)}_getOrReturnCtx(e,i){return i||{common:e.parent.common,data:e.data,parsedType:xi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new We,ctx:{common:e.parent.common,data:e.data,parsedType:xi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let i=this._parse(e);if(Ks(i))throw new Error("Synchronous parse encountered promise.");return i}_parseAsync(e){let i=this._parse(e);return Promise.resolve(i)}parse(e,i){let n=this.safeParse(e,i);if(n.success)return n.data;throw n.error}safeParse(e,i){var n;let r={common:{issues:[],async:(n=i?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:i?.errorMap},path:i?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)},a=this._parseSync({data:e,path:r.path,parent:r});return XT(r,a)}"~validate"(e){var i,n;let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)};if(!this["~standard"].async)try{let a=this._parseSync({data:e,path:[],parent:r});return Sn(a)?{value:a.value}:{issues:r.common.issues}}catch(a){!((n=(i=a?.message)===null||i===void 0?void 0:i.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>Sn(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,i){let n=await this.safeParseAsync(e,i);if(n.success)return n.data;throw n.error}async safeParseAsync(e,i){let n={common:{issues:[],contextualErrorMap:i?.errorMap,async:!0},path:i?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(Ks(r)?r:Promise.resolve(r));return XT(n,a)}refine(e,i){let n=r=>typeof i=="string"||typeof i>"u"?{message:i}:typeof i=="function"?i(r):i;return this._refinement((r,a)=>{let s=e(r),o=()=>a.addIssue({code:S.custom,...n(r)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,i){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof i=="function"?i(n,r):i),!1))}_refinement(e){return new St({schema:this,typeName:D.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:i=>this["~validate"](i)}}optional(){return qt.create(this,this._def)}nullable(){return ai.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bi.create(this)}promise(){return Vi.create(this,this._def)}or(e){return On.create([this,e],this._def)}and(e){return Nn.create(this,e,this._def)}transform(e){return new St({...U(this._def),schema:this,typeName:D.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let i=typeof e=="function"?e:()=>e;return new Mn({...U(this._def),innerType:this,defaultValue:i,typeName:D.ZodDefault})}brand(){return new Zs({typeName:D.ZodBranded,type:this,...U(this._def)})}catch(e){let i=typeof e=="function"?e:()=>e;return new Ln({...U(this._def),innerType:this,catchValue:i,typeName:D.ZodCatch})}describe(e){let i=this.constructor;return new i({...this._def,description:e})}pipe(e){return Xs.create(this,e)}readonly(){return Dn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},bB=/^c[^\s-]{8,}$/i,wB=/^[0-9a-z]+$/,_B=/^[0-9A-HJKMNP-TV-Z]{26}$/i,SB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,EB=/^[a-z0-9_-]{21}$/i,kB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,TB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,CB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,AB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Eh,PB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,NB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,IB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,i2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",RB=new RegExp(`^${i2}$`);function n2(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function MB(t){return new RegExp(`^${n2(t)}$`)}function r2(t){let e=`${i2}T${n2(t)}`,i=[];return i.push(t.local?"Z?":"Z"),t.offset&&i.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${i.join("|")})`,new RegExp(`^${e}$`)}function LB(t,e){return!!((e==="v4"||!e)&&PB.test(t)||(e==="v6"||!e)&&NB.test(t))}function DB(t,e){if(!kB.test(t))return!1;try{let[i]=t.split("."),n=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),r=JSON.parse(atob(n));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function BB(t,e){return!!((e==="v4"||!e)&&OB.test(t)||(e==="v6"||!e)&&IB.test(t))}var Hi=class t extends ${_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==O.string){let a=this._getOrReturnCtx(e);return C(a,{code:S.invalid_type,expected:O.string,received:a.parsedType}),B}let n=new We,r;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(r=this._getOrReturnCtx(e,r),C(r,{code:S.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(r=this._getOrReturnCtx(e,r),C(r,{code:S.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(r=this._getOrReturnCtx(e,r),s?C(r,{code:S.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&C(r,{code:S.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")CB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"email",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Eh||(Eh=new RegExp(AB,"u")),Eh.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"emoji",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")SB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"uuid",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")EB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"nanoid",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")bB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"cuid",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")wB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"cuid2",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")_B.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"ulid",code:S.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),C(r,{validation:"url",code:S.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"regex",code:S.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(e,r),C(r,{code:S.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(r=this._getOrReturnCtx(e,r),C(r,{code:S.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(r=this._getOrReturnCtx(e,r),C(r,{code:S.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?r2(a).test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{code:S.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?RB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{code:S.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?MB(a).test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{code:S.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?TB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"duration",code:S.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?LB(e.data,a.version)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"ip",code:S.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?DB(e.data,a.alg)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"jwt",code:S.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?BB(e.data,a.version)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"cidr",code:S.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?qB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"base64",code:S.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?jB.test(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{validation:"base64url",code:S.invalid_string,message:a.message}),n.dirty()):G.assertNever(a);return{status:n.value,value:e.data}}_regex(e,i,n){return this.refinement(r=>e.test(r),{validation:i,code:S.invalid_string,...j.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...j.errToObj(e)})}url(e){return this._addCheck({kind:"url",...j.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...j.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...j.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...j.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...j.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...j.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...j.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...j.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...j.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...j.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...j.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...j.errToObj(e)})}datetime(e){var i,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(i=e?.offset)!==null&&i!==void 0?i:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...j.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...j.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...j.errToObj(e)})}regex(e,i){return this._addCheck({kind:"regex",regex:e,...j.errToObj(i)})}includes(e,i){return this._addCheck({kind:"includes",value:e,position:i?.position,...j.errToObj(i?.message)})}startsWith(e,i){return this._addCheck({kind:"startsWith",value:e,...j.errToObj(i)})}endsWith(e,i){return this._addCheck({kind:"endsWith",value:e,...j.errToObj(i)})}min(e,i){return this._addCheck({kind:"min",value:e,...j.errToObj(i)})}max(e,i){return this._addCheck({kind:"max",value:e,...j.errToObj(i)})}length(e,i){return this._addCheck({kind:"length",value:e,...j.errToObj(i)})}nonempty(e){return this.min(1,j.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxLength(){let e=null;for(let i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}};Hi.create=t=>{var e;return new Hi({checks:[],typeName:D.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...U(t)})};function zB(t,e){let i=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,r=i>n?i:n,a=parseInt(t.toFixed(r).replace(".","")),s=parseInt(e.toFixed(r).replace(".",""));return a%s/Math.pow(10,r)}var En=class t extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==O.number){let a=this._getOrReturnCtx(e);return C(a,{code:S.invalid_type,expected:O.number,received:a.parsedType}),B}let n,r=new We;for(let a of this._def.checks)a.kind==="int"?G.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{code:S.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:S.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:S.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?zB(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),C(n,{code:S.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{code:S.not_finite,message:a.message}),r.dirty()):G.assertNever(a);return{status:r.value,value:e.data}}gte(e,i){return this.setLimit("min",e,!0,j.toString(i))}gt(e,i){return this.setLimit("min",e,!1,j.toString(i))}lte(e,i){return this.setLimit("max",e,!0,j.toString(i))}lt(e,i){return this.setLimit("max",e,!1,j.toString(i))}setLimit(e,i,n,r){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:n,message:j.toString(r)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:j.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:j.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:j.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:j.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:j.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:j.toString(i)})}finite(e){return this._addCheck({kind:"finite",message:j.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:j.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:j.toString(e)})}get minValue(){let e=null;for(let i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxValue(){let e=null;for(let i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&G.isInteger(e.value))}get isFinite(){let e=null,i=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(i===null||n.value>i)&&(i=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(i)&&Number.isFinite(e)}};En.create=t=>new En({checks:[],typeName:D.ZodNumber,coerce:t?.coerce||!1,...U(t)});var kn=class t extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==O.bigint)return this._getInvalidInput(e);let n,r=new We;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:S.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:S.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),C(n,{code:S.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):G.assertNever(a);return{status:r.value,value:e.data}}_getInvalidInput(e){let i=this._getOrReturnCtx(e);return C(i,{code:S.invalid_type,expected:O.bigint,received:i.parsedType}),B}gte(e,i){return this.setLimit("min",e,!0,j.toString(i))}gt(e,i){return this.setLimit("min",e,!1,j.toString(i))}lte(e,i){return this.setLimit("max",e,!0,j.toString(i))}lt(e,i){return this.setLimit("max",e,!1,j.toString(i))}setLimit(e,i,n,r){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:n,message:j.toString(r)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:j.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:j.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:j.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:j.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:j.toString(i)})}get minValue(){let e=null;for(let i of this._def.ch